<!DOCTYPE html><html>
        <head>
        <title>CAD2021</title>
        <meta charset="utf-8">
<meta property="head" content="H3">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link href="https://fonts.googleapis.com/css?family=Quicksand:300,400,500,700,900" rel="stylesheet">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/fonts/icomoon/style.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/bootstrap.min.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/magnific-popup.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/jquery-ui.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/owl.carousel.min.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/owl.theme.default.min.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/bootstrap-datepicker.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/fonts/flaticon/font/flaticon.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/aos.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/style.css">
        <link rel="shortcut icon" href="./../cmsimde/static/favicons.png">
        
        <style type='text/css'>
            .site-section {
            background-color: #FFFF;
            padding: 40px 40px;
            }
            body > div > div.dropdown.open {
                display: block;
            }
        </style>
    
        <!-- <script src="./../cmsimde/static/jquery.js"></script> -->
        <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
        <script src="../cmsimde/static/chimper/js/jquery-3.3.1.min.js"></script>
        <link rel="stylesheet" href="./../cmsimde/static/tipuesearch/css/normalize.min.css">
        <script src="./../cmsimde/static/tipuesearch/tipuesearch_set.js"></script>
        <script src="tipuesearch_content.js"></script>
        <link rel="stylesheet" href="./../cmsimde/static/tipuesearch/css/tipuesearch.css">
        <script src="./../cmsimde/static/tipuesearch/tipuesearch.js"></script>
        <!-- for Wink3 -->
        <link rel="stylesheet" type="text/css" href="./../cmsimde/static/winkPlayer.css" />
        <script type="text/javascript" src="./../cmsimde/static/winkPlayer.js"></script>
        <script>
            /* original tipuesearch
            $(document).ready(function() {
                 $('#tipue_search_input').tipuesearch();
            });
            */
            // customed doSearch
            function doSearch() {
                $('#tipue_search_input').tipuesearch({
                    newWindow: true, 
                    minimumLength: 2,
                    wholeWords: false, // for search 中文
                });
            }
            $(document).ready(doSearch);
        </script>
        
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shCore.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushBash.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushDiff.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushJScript.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushJava.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushPython.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushSql.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushHaxe.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushXml.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushPhp.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushPowerShell.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushLua.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushCpp.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushCss.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushCSharp.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushDart.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushRust.js"></script>
<link type="text/css" rel="stylesheet" href="./../cmsimde/static/syntaxhighlighter/css/shCoreDefault.css"/>
<script type="text/javascript">SyntaxHighlighter.all();</script>
<!-- 暫時不用
<script src="./../cmsimde/static/fengari-web.js"></script>
<script type="text/javascript" src="./../cmsimde/static/Cango-13v08-min.js"></script>
<script type="text/javascript" src="./../cmsimde/static/CangoAxes-4v01-min.js"></script>
<script type="text/javascript" src="./../cmsimde/static/gearUtils-05.js"></script>
-->
<!-- for Brython 暫時不用
<script src="https://scrum-3.github.io/web/brython/brython.js"></script>
<script src="https://scrum-3.github.io/web/brython/brython_stdlib.js"></script>
-->
<style>
img.add_border {
    border: 3px solid blue;
}
</style>

</head>
<body>
<div class='container'><nav>
        
    <div class="site-wrap">

    <div class="site-mobile-menu">
      <div class="site-mobile-menu-header">
        <div class="site-mobile-menu-close mt-3">
          <span class="icon-close2 js-menu-toggle"></span>
        </div>
      </div>
      <div class="site-mobile-menu-body"></div>
    </div>
    
            <header class="site-navbar py-4 bg-white" role="banner">
              <div class="container-fluid">
                <div class="row align-items-center">
                <h1>2021 電腦輔助設計實習</h1>
                <div class="pl-4">
                    <form>
                    <input type="text" placeholder="Search" name="q" id="tipue_search_input" pattern=".{2,}" title="At least 2 characters" required>
                    </form>
                </div>
                  <!-- <div class="col-11 col-xl-2">
                    <h1 class="mb-0 site-logo"><a href="index.html" class="text-black h2 mb-0">2021 電腦輔助設計實習</a></h1> 
                  </div>
                  -->
                  <div class="col-12 col-md-10 d-none d-xl-block">
                    <nav class="site-navigation position-relative text-right" role="navigation">
    <ul class='site-menu js-clone-nav mr-auto d-none d-lg-block'>
                        <li class="active has-children"><a href="index.html">Home</a>
                        <ul class="dropdown">
                            <li><a href="sitemap.html">Site Map</a></li>
                            <li><a href="./../reveal/index.html">reveal</a></li>
                            <li><a href="./../blog/index.html">blog</a></li>
                        </ul>
                      </li>
                     <li class='has-children'><a href='About.html'>About</a><ul class='dropdown'><li><a href='Github.html'>Github</a><li><a href='Examples.html'>Examples</a><li><a href='Onshape.html'>Onshape</a><li><a href='Arduino.html'>Arduino</a><li><a href='Ethercalc.html'>Ethercalc</a><li class='has-children'><a href='CoppeliaSim.html'>CoppeliaSim</a><ul class='dropdown'><li><a href='Compile CoppeliaSim.html'>Compile CoppeliaSim</a><li><a href='Lua and CPP.html'>Lua and CPP</a><li><a href='RML.html'>RML</a><li><a href='XML.html'>XML</a></li></ul><li class='has-children'><a href='Webots.html'>Webots</a><ul class='dropdown'><li><a href='SUMO.html'>SUMO</a></li></ul><li class='has-children'><a href='強化學習.html'>強化學習</a><ul class='dropdown'><li><a href='Snake RL.html'>Snake RL</a></li></li></ul></ul><li class='has-children'><a href='課程主題.html'>課程主題</a><ul class='dropdown'><li><a href='直播與討論.html'>直播與討論</a><li class='has-children'><a href='CAD.html'>CAD</a><ul class='dropdown'><li><a href='Compile Solvespace.html'>Compile Solvespace</a><li><a href='Lua.html'>Lua</a><li><a href='CAD in Rust.html'>CAD in Rust</a><li><a href='DSL.html'>DSL</a><li><a href='Open CAD.html'>Open CAD</a><li><a href='Bevel Gears.html'>Bevel Gears</a><li><a href='Control.html'>Control</a><li><a href='AI and CAD.html'>AI and CAD</a></li></ul><li class='has-children'><a href='SSO.html'>SSO</a><ul class='dropdown'><li><a href='Fossil.html'>Fossil</a><li><a href='Compile Fossil.html'>Compile Fossil</a><li><a href='Althttpd.html'>Althttpd</a></li></ul><li class='has-children'><a href='Robotics.html'>Robotics</a><ul class='dropdown'><li><a href='FMS.html'>FMS</a><li><a href='EE.html'>EE</a><li><a href='Klampt.html'>Klampt</a><li><a href='RL.html'>RL</a></li></ul><li class='has-children'><a href='系統開發.html'>系統開發</a><ul class='dropdown'><li><a href='Optimization.html'>Optimization</a><li><a href='Meta.html'>Meta</a><li><a href='Rust.html'>Rust</a><li><a href='Elixir.html'>Elixir</a><li><a href='可攜 Elixir.html'>可攜 Elixir</a></li></li></ul></ul><li class='has-children'><a href='實習內容.html'>實習內容</a><ul class='dropdown'><li class='has-children'><a href='Stage1.html'>Stage1</a><ul class='dropdown'><li><a href='Task 1.html'>Task 1</a><li><a href='Task1-1.html'>Task1-1</a><li><a href='Task 2.html'>Task 2</a><li><a href='Wishful Thinking 1.html'>Wishful Thinking 1</a></li></ul><li class='has-children'><a href='Stage2.html'>Stage2</a><ul class='dropdown'><li><a href='Task3.html'>Task3</a><li><a href='Task4.html'>Task4</a><li><a href='Task5.html'>Task5</a></li></ul><li class='has-children'><a href='Stage3.html'>Stage3</a><ul class='dropdown'><li><a href='Task6.html'>Task6</a><li><a href='Task7.html'>Task7</a><li><a href='Task7-1-1.html'>Task7-1-1</a><li><a href='Task7-1-2.html'>Task7-1-2</a><li><a href='Task7-1-3.html'>Task7-1-3</a></li></ul><li><a href='簡化模型.html'>簡化模型</a></li></ul><li class='has-children'><a href='資料管理.html'>資料管理</a><ul class='dropdown'><li><a href='cad2020.html'>cad2020</a></li>
                      </ul>
                </nav>
              </div>
              <div class="d-inline-block d-xl-none ml-md-0 mr-auto py-3" style="position: relative; top: 3px;"><a href="#" class="site-menu-toggle js-menu-toggle text-black"><span class="icon-menu h3"></span></a></div>
              </div>

            </div>
          </div>
          
        </header>
    <div id="tipue_search_content">Compile CoppeliaSim << <a href='Compile CoppeliaSim.html'>Previous</a> <a href='RML.html'>Next</a> >> RML<br /><h1>Lua and CPP</h1>
<h4>可攜編譯系統:</h4>
<p style="padding-left: 30px;"><a href="https://drive.google.com/file/d/1hEGgONw8ahNs7JPAKOurc7JvGfhgO2zY/view?usp=sharing">compile_copsim_for_pj2022.7z</a> (檔案大小 4 GB, 解開壓縮後 14 GB),  <a href="https://drive.google.com/file/d/1hV8hHjjnLvUp-AEjd2iCfBYk067WSjcy/view?usp=sharing">coppeliaSim 4.1.0 官方版與 MSYS2 編譯版.7z</a> (檔案大小 412 MB, 解開壓縮後 1GB) 以及 <a href="https://drive.google.com/file/d/1iVkXk-YD0o1pRejL6YTgIwem1lpJaRM3/view?usp=sharing">coppeliaSim 4.1.0 原始碼</a> (檔案大小 250 MB, 解開壓縮後 1GB)</p>
<h4>學習動機:</h4>
<p style="padding-left: 30px;"><a href="https://www.youtube.com/playlist?list=PLLwK93hM93Z3nhfJyRRWGRXHaXgNX0Itk">CoppeliaSim</a> 以 Qt + C++ 編寫, 並將 Lua embedded 於 C++ 套件中, 使用者可以利用 Lua Script 操控機電模擬場景中的物件.</p>
<h4>機電模擬系統編譯實習:</h4>
<p style="padding-left: 30px;">以 <a href="https://drive.google.com/file/d/19fRksWRkP9mpYgDFvaBPnFkB6q8B09_w/view?usp=sharing">V-rep 3.1.2 原始碼</a>為例, 利用上列可攜程式系統編譯後, 加上<a href="https://drive.google.com/file/d/1thQ72bUQ2K1d-ODhwgnkUWxfU1mgpwNO/view?usp=sharing">所需的 dll 與相關目錄檔案</a>後, 就可以直接放入隨身系統在 Windows 64 位元環境中執行.</p>
<p>以下為 Lua 與 CPP 結合運用的範例:</p>
<p><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/4l5HdmPoynw" title="YouTube video player" width="560"></iframe></p>
<p>編譯流程:</p>
<p style="padding-left: 30px;">mkdir build</p>
<p style="padding-left: 30px;">cd build</p>
<p style="padding-left: 30px;">cmake .. -G "MinGW Makefiles" -DCMAKE_BUILD_TYPE=Release<br/><br/>mingw32-make</p>
<p style="padding-left: 30px;">取得 main.exe 與下列 EmbeddingLua1.lua 後, 若需要轉為可攜, 需要 libgcc_s_seh-1.dll, libstdc++-6.dll 與 libwinpthread-1.dll 等檔案.</p>
<p>main.cpp</p>
<pre class="brush:cpp;auto-links:false;toolbar:false" contenteditable="false">/*
	Embedding Lua in C++ Part #1
	"Stupid 3D printer, I didn't want a nest..." - javidx9

	License (OLC-3)
	~~~~~~~~~~~~~~~

	Copyright 2018-2019 OneLoneCoder.com

	Redistribution and use in source and binary forms, with or without
	modification, are permitted provided that the following conditions
	are met:

	1. Redistributions or derivations of source code must retain the above
	copyright notice, this list of conditions and the following disclaimer.

	2. Redistributions or derivative works in binary form must reproduce
	the above copyright notice. This list of conditions and the following
	disclaimer must be reproduced in the documentation and/or other
	materials provided with the distribution.

	3. Neither the name of the copyright holder nor the names of its
	contributors may be used to endorse or promote products derived
	from this software without specific prior written permission.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
	"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
	LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
	A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
	HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
	SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
	LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
	DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
	THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
	(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
	OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

	Relevant Video: https://youtu.be/4l5HdmPoynw

	Links
	~~~~~
	YouTube:	https://www.youtube.com/javidx9
				https://www.youtube.com/javidx9extra
	Discord:	https://discord.gg/WhwHUMV
	Twitter:	https://www.twitter.com/javidx9
	Twitch:		https://www.twitch.tv/javidx9
	GitHub:		https://www.github.com/onelonecoder
	Patreon:	https://www.patreon.com/javidx9
	Homepage:	https://www.onelonecoder.com

	Author
	~~~~~~
	David Barr, aka javidx9, �OneLoneCoder 2019
*/

#include &lt;iostream&gt;
#include &lt;string&gt;

// include Lua, assumes it is local to this file
extern "C"
{
#include "Y:/lua-5.3.5/src/lua.h"
#include "Y:/lua-5.3.5/src/lauxlib.h"
#include "Y:/lua-5.3.5/src/lualib.h"
}


// Little error checking utility function
bool CheckLua(lua_State *L, int r)
{
	if (r != LUA_OK)
	{
		std::string errormsg = lua_tostring(L, -1);
		std::cout &lt;&lt; errormsg &lt;&lt; std::endl;
		return false;
	}
	return true;
}


int lua_HostFunction(lua_State *L)
{
	float a = (float)lua_tonumber(L, 1);
	float b = (float)lua_tonumber(L, 2);
	std::cout &lt;&lt; "[CPP S4] HostFunction(" &lt;&lt; a &lt;&lt; ", " &lt;&lt; b &lt;&lt; ") called from Lua" &lt;&lt; std::endl;
	float c = a * b;
	lua_pushnumber(L, c);
	return 1;
}


// NOTE !!!
// YOU WILL NEED THE "EmbeddingLua1.lua" FILE FROM GITHUB REPO


int main()
{

	struct Player
	{
		std::string title;
		std::string name;
		std::string family;
		int level;
	} player;
	
	// Create Lua State
	lua_State *L = luaL_newstate();

	// Add standard libraries to Lua Virtual Machine
	luaL_openlibs(L);

	// Register our C++ Function in the global Lua space
	lua_register(L, "HostFunction", lua_HostFunction);
	 

	// Load and parse the Lua File
	if(CheckLua(L, luaL_dofile(L, "EmbeddingLua1.lua")))
	{ 
		// Stage 1: Just read simple variables
		std::cout &lt;&lt; "[CPP] Stage 1 - Read Simple Variables" &lt;&lt; std::endl;
		lua_getglobal(L, "a");
		if (lua_isnumber(L, -1)) std::cout &lt;&lt; "[CPP S1] a = " &lt;&lt; (int)lua_tointeger(L, -1) &lt;&lt; std::endl;
		lua_getglobal(L, "b");
		if (lua_isnumber(L, -1)) std::cout &lt;&lt; "[CPP S1] b = " &lt;&lt; (int)lua_tointeger(L, -1) &lt;&lt; std::endl;
		lua_getglobal(L, "c");
		if (lua_isnumber(L, -1)) std::cout &lt;&lt; "[CPP S1] c = " &lt;&lt; (int)lua_tointeger(L, -1) &lt;&lt; std::endl;
		lua_getglobal(L, "d");
		if (lua_isstring(L, -1)) std::cout &lt;&lt; "[CPP S1] d = " &lt;&lt; lua_tostring(L, -1) &lt;&lt; std::endl &lt;&lt; std::endl;

		// Stage 2: Read Table Object
		std::cout &lt;&lt; "[CPP] Stage 2 - Read Table (Key/Value pairs)" &lt;&lt; std::endl;
		lua_getglobal(L, "player");
		if (lua_istable(L, -1))
		{
			lua_pushstring(L, "Name");
			lua_gettable(L, -2);
			player.name = lua_tostring(L, -1);
			lua_pop(L, 1);

			lua_pushstring(L, "Family");
			lua_gettable(L, -2);
			player.family = lua_tostring(L, -1);
			lua_pop(L, 1);

			lua_pushstring(L, "Title");
			lua_gettable(L, -2);
			player.title = lua_tostring(L, -1);
			lua_pop(L, 1);

			lua_pushstring(L, "Level");
			lua_gettable(L, -2);
			player.level = (int)lua_tointeger(L, -1);
			lua_pop(L, 1);
		}
		std::cout &lt;&lt; "[CPP S2] " &lt;&lt; player.title &lt;&lt; " " &lt;&lt; player.name &lt;&lt; " of " &lt;&lt; player.family &lt;&lt; " [Lvl: " &lt;&lt; player.level &lt;&lt; "]" &lt;&lt; std::endl &lt;&lt; std::endl; 

		// Stage 3: Call Lua Function
		std::cout &lt;&lt; "[CPP] Stage 3 - Call Lua Function" &lt;&lt; std::endl;
		lua_getglobal(L, "CalledFromCPP1");
		if (lua_isfunction(L, -1))
		{
			lua_pushnumber(L, 5.0f);
			lua_pushnumber(L, 6.0f);
			lua_pushstring(L, "Bwa ha ha!");
			std::cout &lt;&lt; "[CPP S3] Calling 'CalledFromCPP1' in lua script" &lt;&lt; std::endl;
			if (CheckLua(L, lua_pcall(L, 3, 1, 0)))
			{
				std::cout &lt;&lt; "[CPP S3] 'CalledFromCPP1' returned " &lt;&lt; (float)lua_tonumber(L, -1) &lt;&lt; std::endl &lt;&lt; std::endl;
			}
		}

		// Stage 4: Call Lua Function, which calls C++ Function
		std::cout &lt;&lt; "[CPP] Stage 4 - Call Lua Function, whcih in turn calls C++ Function" &lt;&lt; std::endl;
		lua_getglobal(L, "CalledFromCPP2");
		if (lua_isfunction(L, -1))
		{
			lua_pushnumber(L, 5.0f);
			lua_pushnumber(L, 6.0f);
			std::cout &lt;&lt; "[CPP S4] Calling 'CalledFromCPP2' in lua script" &lt;&lt; std::endl;
			if (CheckLua(L, lua_pcall(L, 2, 1, 0)))
			{
				std::cout &lt;&lt; "[CPP S4] 'CalledFromCPP2' returned " &lt;&lt; (float)lua_tonumber(L, -1) &lt;&lt; std::endl &lt;&lt; std::endl;
			}
		}
	}

	
	system("pause");
	lua_close(L);
	return 0;
}</pre>
<p>CMakeLists.txt</p>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">cmake_minimum_required(VERSION 3.9.0)
project(main)

set (PROJECT_SOURCES
        "main.cpp"
        )

add_executable(main ${PROJECT_SOURCES})

target_link_libraries(main winmm "Y:/lua-5.3.5/src/liblua.a")</pre>
<p>EmbeddingLua1.lua</p>
<pre class="brush:lua;auto-links:false;toolbar:false" contenteditable="false">--	Embedding Lua in C++ Part #1
--	"Stupid 3D printer, I didn't want a nest..." - javidx9
--
--	License (OLC-3)
--	~~~~~~~~~~~~~~~
--
--	Copyright 2018-2019 OneLoneCoder.com
--
--	Redistribution and use in source and binary forms, with or without
--	modification, are permitted provided that the following conditions
--	are met:
--
--	1. Redistributions or derivations of source code must retain the above
--	copyright notice, this list of conditions and the following disclaimer.
--
--	2. Redistributions or derivative works in binary form must reproduce
--	the above copyright notice. This list of conditions and the following
--	disclaimer must be reproduced in the documentation and/or other
--	materials provided with the distribution.
--
--	3. Neither the name of the copyright holder nor the names of its
--	contributors may be used to endorse or promote products derived
--	from this software without specific prior written permission.
--
--	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
--	"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
--	LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
--	A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
--	HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
--	SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
--	LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
--	DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
--	THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
--	(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
--	OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
--
--	Relevant Video: https://youtu.be/4l5HdmPoynw
--
--	Links
--	~~~~~
--	YouTube:	https://www.youtube.com/javidx9
--				https://www.youtube.com/javidx9extra
--	Discord:	https://discord.gg/WhwHUMV
--	Twitter:	https://www.twitter.com/javidx9
--	Twitch:		https://www.twitch.tv/javidx9
--	GitHub:		https://www.github.com/onelonecoder
--	Patreon:	https://www.patreon.com/javidx9
--	Homepage:	https://www.onelonecoder.com
--
--	Author
--	~~~~~~
--	David Barr, aka javidx9, �OneLoneCoder 2019



-- Stage 1: Reading Simple Values
a = 5
b = 7
c = a + b
d = "OneLoneCoder.com"

-- Stage 2: Reading a simple object
player = {Title = "Squire", Name = "Ciaran", Family = "Wirral", Level = 20}

-- Stage 3: Calling a Lua Function
function CalledFromCPP1(r1, r2, r3)
	io.write("[LUA S3] CalledFromCPP1("..r1..", "..r2..", "..r3..")\n")
	return r1 * r2
end

-- Stage 4: Calling a C++ Function
function CalledFromCPP2(r1, r2)
	io.write("[LUA S4] CalledFromCPP2("..r1..", "..r2..")\n")
	io.write("[LUA S4] Calling HostFunction("..r1..", "..r2..")\n")
	r = HostFunction(r1, r2)
	io.write("[LUA S4] HostFunction returned "..r.."\n")
	return r * 15
end
	</pre>
<h4>進階參考:</h4>
<p style="padding-left: 30px;"><a href="https://poga.github.io/lua53-notes/introduction.html">Notes on the Implementation of Lua 5.3</a></p>
<p style="padding-left: 30px;">Lua 與 Rust 的綁定: <a href="https://github.com/amethyst/rlua">https://github.com/amethyst/rlua</a> </p>
<p></p>
<br />Compile CoppeliaSim << <a href='Compile CoppeliaSim.html'>Previous</a> <a href='RML.html'>Next</a> >> RML</div>
        
    <!-- footer -->
      <div class="container">
        <div class="row pt-3 mx-auto">
            <p>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="icon-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank" >Colorlib</a>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            </p>
        </div>
      </div>
    <!-- for footer -->
    
        </div> <!-- for site wrap -->
            <!-- <script src="../cmsimde/static/chimper/js/jquery-3.3.1.min.js"></script> -->
            <script src="../cmsimde/static/chimper/js/jquery-migrate-3.0.1.min.js"></script>
            <script src="../cmsimde/static/chimper/js/jquery-ui.js"></script>
            <script src="../cmsimde/static/chimper/js/popper.min.js"></script>
            <script src="../cmsimde/static/chimper/js/bootstrap.min.js"></script>
            <script src="../cmsimde/static/chimper/js/owl.carousel.min.js"></script>
            <script src="../cmsimde/static/chimper/js/jquery.stellar.min.js"></script>
            <script src="../cmsimde/static/chimper/js/jquery.countdown.min.js"></script>
            <script src="../cmsimde/static/chimper/js/jquery.magnific-popup.min.js"></script>
            <script src="../cmsimde/static/chimper/js/bootstrap-datepicker.min.js"></script>
            <script src="../cmsimde/static/chimper/js/aos.js"></script>
            <!--
            <script src="../cmsimde/static/chimper/js/typed.js"></script>
                    <script>
                    var typed = new Typed('.typed-words', {
                    strings: ["Web Apps"," WordPress"," Mobile Apps"],
                    typeSpeed: 80,
                    backSpeed: 80,
                    backDelay: 4000,
                    startDelay: 1000,
                    loop: true,
                    showCursor: true
                    });
                    </script>
            -->
            <script src="../cmsimde/static/chimper/js/main.js"></script>
        
<!-- 啟用 LaTeX equations 編輯 -->
  <!-- <script>
  MathJax = {
    tex: {inlineMath: [['$', '$'], ['\(', '\)']]}
  };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>-->
    </body></html>
        