var tipuesearch = {"pages": [{'title': 'About', 'text': "這裡是國立虎尾科技大學 - 機械設計工程系 - 電腦輔助設計實習課程網站. \n \n (from Myur Kutz, 2005, Mechanical Engineers' Handbook 4th Edition, Volume2, Part1, page3.) \n 從上述機械工程師手冊中, 有關 CAD 說明如下: \n Computer-aided design (CAD) uses the  mathematical  and  graphic processing power  of the computer to assist the engineer in the creation, modification, analysis, and display of designs. \n Many factors have contributed to CAD technology being a necessary tool in the engineering world for applications including shipbuilding, automotive, aerospace, medical, industrial, and architectural design, such as the computer's speed in processing complex equations and managing technical databases. \n 若從產品開發流程與團隊成員的角度而言, 電腦輔助設計的本質在運用電腦與周邊相關軟硬體, 以達到多人參與協同產品設計流程時, 針對每一個細節與項目, 都能夠少一點負擔 (less burden), 多一些建樹 (more achievements) 的目標, 期望在產品從概念至回收的生命週期 (life cycle) 中, 能以最少成本付出, 取得最大效益. \n 少負擔: \n \n 能否利用高效能且具開放延伸特性的軟硬體工具執行設計, 無需安裝維護厚重且架構封閉的軟硬體設備. \n 能否運用分散式版次管理系統儲存設計內容, 無需擔心多人協同設計下,改版內容混淆, 權責無法區分, 資料因硬體故障或遭破壞而毀損. \n 將重複或繁雜的工作交由電腦處理, 設計者選擇處理較具價值, 且有助於持續提升解題知能的工作項目. \n \n 多建樹: \n \n 讓每一項投注心力的工作, 都留下歷程紀錄, 除可自我檢視成果, 也可提供他人查核驗證. \n 即時公開利用電腦輔助設計時所採用的假設, 方法, 遭遇困難, 參考資料搜尋範圍與解決方案等細節. \n 隨時做好利用電腦與網路說明設計理念與成果簡報的準備. \n \n CAD: Do Computers Aid the Design Process After All?  (電腦輔助設計: 電腦真的有助於設計流程嗎?) \n 至於所謂電腦輔助機械設計, 是使用電腦軟體進行機械產品相關系統設計 (包含機電與資訊整合,  ref ), 並記錄產品的設計過程. 主要用於建立產品的初步設計與佈局, 提供設計細節與運算, 構建 3D 模型, 繪製並發布工程圖, 同時也與工程分析, 行銷, 製造等部門及產品用戶間進行互動. \n 關鍵字: \n 電腦軟體, 紀錄產品設計過程, 產品初步設計與佈局, 設計細節, 設計運算, 3D 模型, 工程圖, 工程分析, 行銷, 製造, 產品用戶, 互動. \n 這個學期的電腦輔助設計實習包括五個主題: \n 請登入 @gm 帳號後, 下載  cad2021_textbook.pdf  課程教材, 以及採 可攜程式系統 編譯的  cad2021_coppeliaSim.7z . ( coppeliasim_4.1.0_rev1.7z ) \n \n 直播與討論  - 每一位學員都必須要配置隨身碟, 耳機, 麥克風與 webcam, 有能力主持線上會議及錄影, 開會後各學員必須針對會議內容, 錄製相關內容操作過程影片與心得報告, 各影片必須剪輯編修後配上說明字幕. 每一位學員在線上會議前, 要針對討論主題進行準備, 並在過程中針對議題發表看法, 每次開會後, 各學員將針對會議錄影與心得報告, 直接透過線上表單進行  self-evaluation  and  peer review . \n MCAD  - 設計多軸機械手臂與周邊設施, 開發能夠自動組裝機械手臂的 彈性製造系統  (FMS, Flexible Manufacturing System) 與  AS/RS  (Automated Storage and Retrieval System) 系統. \n SSO  - 利用 @gm 帳號作為基礎, 以 CAD 完成之各項網際輔助設計系統, 包含各組的  Fossil SCM  系統都必須透過 SSO ( Single Sign-On ) 架構完成. 其中包括網際齒輪減速箱輔助設計系統與各套件 (Solidworks, Inventor 與 NX) 的網際零件訂製系統. \n Robotics  - 透過圖書館所提供的 Robotics 相關電子書介紹, 整理 FMS 相關系統的原理與應用. \n 系統開發  - 在上述主題研究過程中, 所衍生其他有關的電腦輔助機械設計開發內容. \n \n \n 下列是 2005 年\xa0 MIT   Structure and Interpretation of Computer Programs  課程的第一週教學影片,\xa0 Harold Abelson  教授一開場便說: computer science is not a science (當時的科系名稱為 Electric Engineering and Computer Science). It's also not really very much about computers. And that is, when some field is just getting started and you don't really understand it very well, it's very easy to confuse the essence of what you're doing with the tools that you use. \n I think in the future people will look back and say, yes, those primitives in the 20th century were fiddling around with these gadgets called computers, but really what they were doing is starting to  learn how to  formalize   intuitions  about  process ,   how to do things, starting to develop a way to talk precisely about how-to knowledge. \n \n Overview and Introduction to Lisp ( source ,  Closed Caption ) \n 課程倉儲, 網站, 討論區與所使用工具: \n Repository:  https://github.com/mdecourse/cad2021 \n Github Pages:  https://mde.tw/cad2021 \n Zulipchat:  https://kmolab.zulipchat.com \n Onshape:  https://www.onshape.com/en/education/ \n CoppeliaSim:  https://www.coppeliarobotics.com/ \n CAD 歷史與相關參考資料: \n CAD History.pdf \n CAD Book.pdf \n 2005_Ten challenges in computer-aided design.pdf \n https://github.com/CadQuery/cadquery \n https://github.com/CadQuery/CQ-editor \n https://github.com/alainrinder/quoridor.py , RoboDK and CoppeliaSim \n https://github.com/Quentin18/Quoridor-Online \n https://github.com/mrkvost/quoridor \n https://marmelab.com/blog/2019/10/24/quoridor-part-1.html \n Openspiel: framework for reinforcement learning in games \n https://github.com/CadQuery/cadquery \n https://github.com/gorisanson/quoridor-ai \n https://github.com/zack-hill/quoridor-web \n Mastering Quoridor  (thesis) \n 能夠在  CoppeliaSim  建立步步為營桌遊場景, 以按鍵控制兩人, 四人或六人對陣. \n 設法建立電腦程式, 可在  CoppeliaSim  場景中與單一使用者或多使用者對陣. \n 是否也能利用  RoboDK  或  Webots  建立對應場景? \n 四人步步為營桌遊  ( 線上版 ,  強化學習 ,  AI Player ) \n 六人步步為營桌遊 \n CAD 延伸: \n Onshape Featurescript:  https://cad.onshape.com/FsDoc/ \n Beginner's Guide to Featurescript  (Video) \n Custom Features \n Spur Gear  ( Update ) \n SolidWorks API:  http://mde.tw/cad2020/content/HW1_SW.html \n Inventor API:  http://mde.tw/cad2020/content/HW1_INV.html \n NX API:  http://mde.tw/cad2020/content/HW1_NX.html \n 電腦輔助設計室與協同設計室行事曆 \n 全頁檢視 \n \n", 'tags': '', 'url': 'About.html'}, {'title': 'Examples', 'text': 'Onshape to Robot:  https://onshape-to-robot.readthedocs.io/en/latest/ \n Onshape to Matlab \xa0 \n Inverse Kinematics: \n RoboDK \n CoppeliaSim \n Webots \n https://github.com/Phylliade/ikpy \xa0 \n Onshape to RoboDK, CoppeliaSim and Webots. <= Machine Learning and Reinforcement Learning \n Onshape Ex1 \n \n Onshape Ex2 \n \n Adaptation of Openai Gym for Moveo Platform.pdf \n https://github.com/BCN3D/BCN3D-Moveo \n \n', 'tags': '', 'url': 'Examples.html'}, {'title': 'Onshape', 'text': 'https://405232491.gitbooks.io/gitbook_week3/content/week10.html \n https://www.onshape.com/en/education/ \n Featurescript: \n https://www.onshape.com/en/resource-center/videos/beginners-guide-to-featurescript \n https://cad.onshape.com/FsDoc/ \n https://cad.onshape.com/FsDoc/tutorials/create-a-slot-feature.html \n Featurescript 導引  ( 其他參考資料 ) \n Onshape of cad2019 \n', 'tags': '', 'url': 'Onshape.html'}, {'title': 'Arduino', 'text': 'Uno Simulator:  https://www.sites.google.com/site/unoardusim/services \n Picsimlab: \n https://github.com/lcgamboa/picsimlab \n https://lcgamboa.github.io/ \n https://mplabxpress.microchip.com/mplabcloud/ide \n', 'tags': '', 'url': 'Arduino.html'}, {'title': 'Ethercalc', 'text': 'http://mde.tw/cd2021/content/Programming.html \n 有關 ethercalc: \n 若 ethercalc 與 redis 合用, sheet 資料將會存入 /var/lib/redis/dump.rdb, 此一檔案儲存設定位於 /etc/redis/redis.conf 中的 dbfilename dump.rdb 使用者若要以 root 身分檢視 /var/lib/redis/dump.rdb 可以透過 sudo -s 以 root 身分執行命令. 若以 /etc/init.d/redis-server stop 關閉 redis, 然後執行 ethercalc, sheet 資料將會存在執行命令目錄下的 dump 目錄中. 在結合 redis 使用下的 ethercalc, 若希望 reset /var/lib/redis/dump.rdb 中的資料: sudo -s /etc/init.d/redis-server stop rm /var/lib/redis/dump.rdb /etc/init.d/redis-server start ethercalc 則 /var/lib/redis/dump.rdb 中為空資料. \n', 'tags': '', 'url': 'Ethercalc.html'}, {'title': 'CoppeliaSim', 'text': "A Comparison of Humanoid Robot Simulators: A Quantitative Approach  (2020) \n A Review of Physics Simulators for Robotic Applications  (2021) \n https://www.coppeliarobotics.com/ \n https://robocomp.github.io/web/ \n https://robocomp.github.io/web/gsoc/2019/nikhil_bansal/post02 \n 利用 Python  xml 模組 解讀 simscene.xml 場景檔案, 列出 xml 檔案格式中的標註名稱: \n import xml.etree.ElementTree as ET\n\n# load and parse the vacant simscene xml file\nxmlTree = ET.parse('cop.simscene.xml')\n\n# tags has 1196 elements, but only 236 are unique\ntags = [elem.tag for elem in xmlTree.iter()]\n\n# let tags2 be vacant list\ntags2 = []\n\n# one by one to remove the duplicate tags\nfor i in tags:\n    if i not in tags2:\n        tags2.append(i)\nprint(len(tags), len(tags2))\n\nfor tag in tags:\n    print(tag)\n \n xml.leo  檔案範例, 利用 Leo Editor 檔案中的 @settings -> import options -> @data import-xml-tags 設定  CoppeliaSim XML  檔案讀取標註. 如此就可以直接文字檔案管理 CoppeliaSim 場景模型. \n 參考資料: \n Leo Editor replace-all 與 xml 解讀功能設定 \n \n", 'tags': '', 'url': 'CoppeliaSim.html'}, {'title': 'Compile CoppeliaSim', 'text': '請登入 @gm 帳號後, 下載  cad2021_textbook.pdf  課程教材. \n 可攜編譯系統: \n compile_copsim_for_pj2022.7z  (download file size 4 GB, uncompressed file size 14 GB) \n 自行編譯動機: \n 因為 CoppeliaSim 官方釋出 4.2.0 之後的教育版並無開啟 .simscene.xml 檔案的功能, 而  XML 開放檔案格式 在自動建立機電資模擬場景, 以及延伸整合  Webots  檔案格式的過程有其重要性, 因此在電腦輔助設計課程中採用  MSYS2  可攜程式系統編譯 CoppeliaSim 教育版原始碼 ( https://github.com/CoppeliaRobotics  ). \n 自行編譯 CoppeliaSim 是一項不錯的 C++ 與 Qt 程式練習專案, 由於過程中牽涉如何使用  qmake ,  CMake  與  Make , 使用者從中可以逐步了解與  qscintilla ,  boost ,  Lua ,  Bullet ,  ODE ,  Newton  與  GCC  相關的特性與運用技巧. \n 當然, 最大的動機是希望能夠透過觀摩 CoppeliaSim 的程式碼, 了解如何利用 C++, Lua 與 Python, 結合各種自由開源的 Dynamics 程式庫, 培訓出更多了解運用 Symbolic and Numerical integrated Inverse Kinematic and Dynamic constraints solver 技術, 進而透過動態模擬與控制系統設計改善產品開發的機械設計工程師. \n 編譯說明: \n https://www.coppeliarobotics.com/helpFiles/en/compilingCoppeliaSim.htm \xa0 \n 上述可攜程式系統採用  https://www.msys2.org/  製作. 可以放入外接 SSD 中執行與電腦輔助設計相關的程式套件開發.', 'tags': '', 'url': 'Compile CoppeliaSim.html'}, {'title': 'Lua and CPP', 'text': '可攜編譯系統: \n Portable compiler in Windows 64-bit operating system.  compile_copsim.7z,  download file size 3.87 GB, uncompressed file size 14 GB) \n 學習動機: \n CoppeliaSim  以 Qt + C++ 編寫, 並將 Lua embedded 於 C++ 套件中, 使用者可以利用 Lua Script 操控機電模擬場景中的物件. \n 機電模擬系統編譯實習: \n 以  V-rep 3.1.2 原始碼 為例, 利用上列可攜程式系統編譯後, 加上 所需的 dll 與相關目錄檔案 後, 就可以直接放入隨身系統在 Windows 64 位元環境中執行. \n 以下為 Lua 與 CPP 結合運用的範例: \n \n 編譯流程: \n mkdir build \n cd build \n cmake .. -G "MinGW Makefiles" -DCMAKE_BUILD_TYPE=Release mingw32-make \n 取得 main.exe 與下列 EmbeddingLua1.lua 後, 若需要轉為可攜, 需要 libgcc_s_seh-1.dll, libstdc++-6.dll 與 libwinpthread-1.dll 等檔案. \n main.cpp \n /*\n\tEmbedding Lua in C++ Part #1\n\t"Stupid 3D printer, I didn\'t want a nest..." - javidx9\n\n\tLicense (OLC-3)\n\t~~~~~~~~~~~~~~~\n\n\tCopyright 2018-2019 OneLoneCoder.com\n\n\tRedistribution and use in source and binary forms, with or without\n\tmodification, are permitted provided that the following conditions\n\tare met:\n\n\t1. Redistributions or derivations of source code must retain the above\n\tcopyright notice, this list of conditions and the following disclaimer.\n\n\t2. Redistributions or derivative works in binary form must reproduce\n\tthe above copyright notice. This list of conditions and the following\n\tdisclaimer must be reproduced in the documentation and/or other\n\tmaterials provided with the distribution.\n\n\t3. Neither the name of the copyright holder nor the names of its\n\tcontributors may be used to endorse or promote products derived\n\tfrom this software without specific prior written permission.\n\n\tTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n\t"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n\tLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n\tA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n\tHOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n\tSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n\tLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n\tDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n\tTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n\t(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n\tOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n\tRelevant Video: https://youtu.be/4l5HdmPoynw\n\n\tLinks\n\t~~~~~\n\tYouTube:\thttps://www.youtube.com/javidx9\n\t\t\t\thttps://www.youtube.com/javidx9extra\n\tDiscord:\thttps://discord.gg/WhwHUMV\n\tTwitter:\thttps://www.twitter.com/javidx9\n\tTwitch:\t\thttps://www.twitch.tv/javidx9\n\tGitHub:\t\thttps://www.github.com/onelonecoder\n\tPatreon:\thttps://www.patreon.com/javidx9\n\tHomepage:\thttps://www.onelonecoder.com\n\n\tAuthor\n\t~~~~~~\n\tDavid Barr, aka javidx9, �OneLoneCoder 2019\n*/\n\n#include <iostream>\n#include <string>\n\n// include Lua, assumes it is local to this file\nextern "C"\n{\n#include "Y:/lua-5.3.5/src/lua.h"\n#include "Y:/lua-5.3.5/src/lauxlib.h"\n#include "Y:/lua-5.3.5/src/lualib.h"\n}\n\n\n// Little error checking utility function\nbool CheckLua(lua_State *L, int r)\n{\n\tif (r != LUA_OK)\n\t{\n\t\tstd::string errormsg = lua_tostring(L, -1);\n\t\tstd::cout << errormsg << std::endl;\n\t\treturn false;\n\t}\n\treturn true;\n}\n\n\nint lua_HostFunction(lua_State *L)\n{\n\tfloat a = (float)lua_tonumber(L, 1);\n\tfloat b = (float)lua_tonumber(L, 2);\n\tstd::cout << "[CPP S4] HostFunction(" << a << ", " << b << ") called from Lua" << std::endl;\n\tfloat c = a * b;\n\tlua_pushnumber(L, c);\n\treturn 1;\n}\n\n\n// NOTE !!!\n// YOU WILL NEED THE "EmbeddingLua1.lua" FILE FROM GITHUB REPO\n\n\nint main()\n{\n\n\tstruct Player\n\t{\n\t\tstd::string title;\n\t\tstd::string name;\n\t\tstd::string family;\n\t\tint level;\n\t} player;\n\t\n\t// Create Lua State\n\tlua_State *L = luaL_newstate();\n\n\t// Add standard libraries to Lua Virtual Machine\n\tluaL_openlibs(L);\n\n\t// Register our C++ Function in the global Lua space\n\tlua_register(L, "HostFunction", lua_HostFunction);\n\t \n\n\t// Load and parse the Lua File\n\tif(CheckLua(L, luaL_dofile(L, "EmbeddingLua1.lua")))\n\t{ \n\t\t// Stage 1: Just read simple variables\n\t\tstd::cout << "[CPP] Stage 1 - Read Simple Variables" << std::endl;\n\t\tlua_getglobal(L, "a");\n\t\tif (lua_isnumber(L, -1)) std::cout << "[CPP S1] a = " << (int)lua_tointeger(L, -1) << std::endl;\n\t\tlua_getglobal(L, "b");\n\t\tif (lua_isnumber(L, -1)) std::cout << "[CPP S1] b = " << (int)lua_tointeger(L, -1) << std::endl;\n\t\tlua_getglobal(L, "c");\n\t\tif (lua_isnumber(L, -1)) std::cout << "[CPP S1] c = " << (int)lua_tointeger(L, -1) << std::endl;\n\t\tlua_getglobal(L, "d");\n\t\tif (lua_isstring(L, -1)) std::cout << "[CPP S1] d = " << lua_tostring(L, -1) << std::endl << std::endl;\n\n\t\t// Stage 2: Read Table Object\n\t\tstd::cout << "[CPP] Stage 2 - Read Table (Key/Value pairs)" << std::endl;\n\t\tlua_getglobal(L, "player");\n\t\tif (lua_istable(L, -1))\n\t\t{\n\t\t\tlua_pushstring(L, "Name");\n\t\t\tlua_gettable(L, -2);\n\t\t\tplayer.name = lua_tostring(L, -1);\n\t\t\tlua_pop(L, 1);\n\n\t\t\tlua_pushstring(L, "Family");\n\t\t\tlua_gettable(L, -2);\n\t\t\tplayer.family = lua_tostring(L, -1);\n\t\t\tlua_pop(L, 1);\n\n\t\t\tlua_pushstring(L, "Title");\n\t\t\tlua_gettable(L, -2);\n\t\t\tplayer.title = lua_tostring(L, -1);\n\t\t\tlua_pop(L, 1);\n\n\t\t\tlua_pushstring(L, "Level");\n\t\t\tlua_gettable(L, -2);\n\t\t\tplayer.level = (int)lua_tointeger(L, -1);\n\t\t\tlua_pop(L, 1);\n\t\t}\n\t\tstd::cout << "[CPP S2] " << player.title << " " << player.name << " of " << player.family << " [Lvl: " << player.level << "]" << std::endl << std::endl; \n\n\t\t// Stage 3: Call Lua Function\n\t\tstd::cout << "[CPP] Stage 3 - Call Lua Function" << std::endl;\n\t\tlua_getglobal(L, "CalledFromCPP1");\n\t\tif (lua_isfunction(L, -1))\n\t\t{\n\t\t\tlua_pushnumber(L, 5.0f);\n\t\t\tlua_pushnumber(L, 6.0f);\n\t\t\tlua_pushstring(L, "Bwa ha ha!");\n\t\t\tstd::cout << "[CPP S3] Calling \'CalledFromCPP1\' in lua script" << std::endl;\n\t\t\tif (CheckLua(L, lua_pcall(L, 3, 1, 0)))\n\t\t\t{\n\t\t\t\tstd::cout << "[CPP S3] \'CalledFromCPP1\' returned " << (float)lua_tonumber(L, -1) << std::endl << std::endl;\n\t\t\t}\n\t\t}\n\n\t\t// Stage 4: Call Lua Function, which calls C++ Function\n\t\tstd::cout << "[CPP] Stage 4 - Call Lua Function, whcih in turn calls C++ Function" << std::endl;\n\t\tlua_getglobal(L, "CalledFromCPP2");\n\t\tif (lua_isfunction(L, -1))\n\t\t{\n\t\t\tlua_pushnumber(L, 5.0f);\n\t\t\tlua_pushnumber(L, 6.0f);\n\t\t\tstd::cout << "[CPP S4] Calling \'CalledFromCPP2\' in lua script" << std::endl;\n\t\t\tif (CheckLua(L, lua_pcall(L, 2, 1, 0)))\n\t\t\t{\n\t\t\t\tstd::cout << "[CPP S4] \'CalledFromCPP2\' returned " << (float)lua_tonumber(L, -1) << std::endl << std::endl;\n\t\t\t}\n\t\t}\n\t}\n\n\t\n\tsystem("pause");\n\tlua_close(L);\n\treturn 0;\n} \n CMakeLists.txt \n cmake_minimum_required(VERSION 3.9.0)\nproject(main)\n\nset (PROJECT_SOURCES\n        "main.cpp"\n        )\n\nadd_executable(main ${PROJECT_SOURCES})\n\ntarget_link_libraries(main winmm "Y:/lua-5.3.5/src/liblua.a") \n EmbeddingLua1.lua \n --\tEmbedding Lua in C++ Part #1\n--\t"Stupid 3D printer, I didn\'t want a nest..." - javidx9\n--\n--\tLicense (OLC-3)\n--\t~~~~~~~~~~~~~~~\n--\n--\tCopyright 2018-2019 OneLoneCoder.com\n--\n--\tRedistribution and use in source and binary forms, with or without\n--\tmodification, are permitted provided that the following conditions\n--\tare met:\n--\n--\t1. Redistributions or derivations of source code must retain the above\n--\tcopyright notice, this list of conditions and the following disclaimer.\n--\n--\t2. Redistributions or derivative works in binary form must reproduce\n--\tthe above copyright notice. This list of conditions and the following\n--\tdisclaimer must be reproduced in the documentation and/or other\n--\tmaterials provided with the distribution.\n--\n--\t3. Neither the name of the copyright holder nor the names of its\n--\tcontributors may be used to endorse or promote products derived\n--\tfrom this software without specific prior written permission.\n--\n--\tTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n--\t"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n--\tLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n--\tA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n--\tHOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n--\tSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n--\tLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n--\tDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n--\tTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n--\t(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n--\tOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n--\n--\tRelevant Video: https://youtu.be/4l5HdmPoynw\n--\n--\tLinks\n--\t~~~~~\n--\tYouTube:\thttps://www.youtube.com/javidx9\n--\t\t\t\thttps://www.youtube.com/javidx9extra\n--\tDiscord:\thttps://discord.gg/WhwHUMV\n--\tTwitter:\thttps://www.twitter.com/javidx9\n--\tTwitch:\t\thttps://www.twitch.tv/javidx9\n--\tGitHub:\t\thttps://www.github.com/onelonecoder\n--\tPatreon:\thttps://www.patreon.com/javidx9\n--\tHomepage:\thttps://www.onelonecoder.com\n--\n--\tAuthor\n--\t~~~~~~\n--\tDavid Barr, aka javidx9, �OneLoneCoder 2019\n\n\n\n-- Stage 1: Reading Simple Values\na = 5\nb = 7\nc = a + b\nd = "OneLoneCoder.com"\n\n-- Stage 2: Reading a simple object\nplayer = {Title = "Squire", Name = "Ciaran", Family = "Wirral", Level = 20}\n\n-- Stage 3: Calling a Lua Function\nfunction CalledFromCPP1(r1, r2, r3)\n\tio.write("[LUA S3] CalledFromCPP1("..r1..", "..r2..", "..r3..")\\n")\n\treturn r1 * r2\nend\n\n-- Stage 4: Calling a C++ Function\nfunction CalledFromCPP2(r1, r2)\n\tio.write("[LUA S4] CalledFromCPP2("..r1..", "..r2..")\\n")\n\tio.write("[LUA S4] Calling HostFunction("..r1..", "..r2..")\\n")\n\tr = HostFunction(r1, r2)\n\tio.write("[LUA S4] HostFunction returned "..r.."\\n")\n\treturn r * 15\nend\n\t \n 進階參考: \n Notes on the Implementation of Lua 5.3 \n Lua 與 Rust 的綁定:\xa0 https://github.com/amethyst/rlua \xa0 \n \n', 'tags': '', 'url': 'Lua and CPP.html'}, {'title': 'XML', 'text': 'CoppeliaSim 支援 模擬場景 XML 檔案 格式. \n 有關  Leo Editor  @data import-xml-tags  設定 . \n \n', 'tags': '', 'url': 'XML.html'}, {'title': 'Webots', 'text': '原始作者: Olivier Michel  論文發表 \n 原始碼:  https://github.com/cyberbotics/webots \n 使用授權:  https://github.com/cyberbotics/webots/blob/master/LICENSE  ( Apache License 2.0 使用授權 ) \n Webots 在原始碼的使用授權上比 CoppeliaSim  多元的教育與商業使用授權 上寬鬆許多, 由於 Apache License 2.0 具有不可撤回 (irrevocable) 的特性, 因此自從  2019a  從封閉商用系統轉為開源之後, 無論在 Github 上的熱絡度, 或者參與協同編碼的人數明顯高於 CoppeliaSim 許多. \n 但是由於 Webots 並沒有像 CoppeliSim 提供公開的  Forum , 因此在研究 Webots 的過程只能從  Documentation  與 \n 原始碼 下手. \n 假如從 Github 原始碼管理的角度來看,  Webots 原始碼 的整合度遠高於 CoppeliaSim ( github ),  Webots 原始碼  將主要的程式放在同一個倉儲中, 且  Documentation  採用  Showdown  以 Markdown 編寫後在網頁上即時轉為 html, 且配合每年兩次改版  Documentation  可同時配合倉儲內容更動. \n 至於 CoppeliaSim 除了 主核心程式庫倉儲 外, 還包含多達幾十個大小不同的必要程式庫與延伸程式庫, 所採用的  Bullet ,  ODE ,  Newton  屬於開源軟體, 但  Vortex  dynamics 程式庫則是封閉商用套件. 且即便是最新版的 CoppeliaSim 4.2.0 仍然採用 2015 年的 3.12 版 Newton \n', 'tags': '', 'url': 'Webots.html'}, {'title': '強化學習', 'text': 'https://github.com/timzhang642/3D-Machine-Learning \n Pytorch Reinforcement Learning Library: \n https://github.com/thu-ml/tianshou \n UIUC CS440: \n 2020: \n https://courses.grainger.illinois.edu/cs440/fa2020/MPs/mp7/assignment7.html \n Snake is a famous video game originated in the 1976 arcade game Blockade. The player uses up, down, left and right to control the snake which grows in length (when it eats the food pellet), with the snake body and walls around the environment being the primary obstacle. In this assignment, you will train AI agents using reinforcement learning to play a simple version of the game snake. You will implement a TD version of the Q-learning algorithm. \n', 'tags': '', 'url': '強化學習.html'}, {'title': 'Snake RL', 'text': 'https://github.com/mdecourse/Snake-Reinforcement-Learning \n Applying basic reinforcement learning principles using the Snake game in Python Snake.py is a basic snake game. QLearning.py teaches an agent to play the snake game using Q-Learning. For every move, the game will send a reward. If the snake collides with itself or a wall, there is a negative reward. If the snake moves towards the food, there is a positive reward. \n The Q matrix is initially filled with zeros. The size is (number of states, number of actions). \n Every move that the agent makes, the Q table is updated as below: \n Q[state, action] = reward + gamma * max(Q[new_state, :]) \n During the training phase, the agent will either choose the action with the max Q value at that state or the agent will randomly choose an action. The Q matrix is then updated using the equation above. \n This process is repeated until the game is complete. Many games are played to update the Q matrix. \n QLearning.py will automatically animate some samples games at various stages of the training process. \n See below for example games using the Q matrix at various stages in the training process. \n \n References: \n https://towardsdatascience.com/snake-played-by-a-deep-reinforcement-learning-agent-53f2c4331d36 \n https://github.com/mdecourse/snake \n https://www.learndatasci.com/tutorials/reinforcement-q-learning-scratch-python-openai-gym/ \n https://www.analyticsvidhya.com/blog/2021/04/q-learning-algorithm-with-step-by-step-implementation-using-python/ \n Snake.py \n \'\'\'\nBasic snake game for use by reinforcement learning.\nRun this script to test it out in the console\n\'\'\'\nimport numpy as np\nimport random\n\n\nclass BodyNode():\n    def __init__(self, parent, x, y):\n        self.parent = parent\n        self.x = x\n        self.y = y\n\n    def setX(self, x):\n        self.x = x\n\n    def setY(self, y):\n        self.y = y\n\n    def setParent(self, parent):\n        self.parent = parent\n\n    def getPosition(self):\n        return (self.x, self.y)\n    \n    def getIndex(self):\n        return (self.y, self.x)\n\n\nclass Snake():\n    def __init__(self, x, y):\n        self.head = BodyNode(None, x, y)\n        self.tail = self.head\n\n    def moveBodyForwards(self):\n        currentNode = self.tail\n        while currentNode.parent != None:\n            parentPosition = currentNode.parent.getPosition()\n            currentNode.setX(parentPosition[0])\n            currentNode.setY(parentPosition[1])\n            currentNode = currentNode.parent\n\n    def move(self, direction):\n        (oldTailX, oldTailY) = self.tail.getPosition()\n        self.moveBodyForwards()\n        headPosition = self.head.getPosition()\n        if direction == 0:\n            # y 座標 - 1 表示往下移動 - down\n            self.head.setY(headPosition[1] - 1)\n        elif direction == 1:\n            # x 座標 + 1 表示往右移動 - right\n            self.head.setX(headPosition[0] + 1)\n        elif direction == 2:\n            # y 座標 + 1 表示往上移動 - up\n            self.head.setY(headPosition[1] + 1)\n        elif direction == 3:\n            # x 座標 - 1 表示往左移動 - left\n            self.head.setX(headPosition[0] - 1)\n        return (oldTailX, oldTailY, *self.head.getPosition())\n\n    def newHead(self, newX, newY):\n        newHead = BodyNode(None, newX, newY)\n        self.head.setParent(newHead)\n        self.head = newHead\n        \n    def getHead(self):\n        return self.head\n    \n    def getTail(self):\n        return self.tail\n\n\nclass SnakeGame():\n    def __init__(self, width, height):\n        # arbitrary numbers to signify head, body, and food)\n        # 0 for empty space\n        self.headVal = 2\n        self.bodyVal = 1\n        self.foodVal = 7\n        self.width = width\n        self.height = height\n        self.board = np.zeros([height, width], dtype=int)\n\n        self.length = 1\n\n        startX = width//2\n        startY = height//2\n\n        self.board[startX, startY] = self.headVal\n        self.snake = Snake(startX, startY)\n        self.spawnFood()\n        self.calcState()\n#        print(self.board)\n\n    def spawnFood(self):\n        # spawn food at location not occupied by snake\n        emptyCells = []\n        for index, value in np.ndenumerate(self.board):\n            if value != self.bodyVal and value != self.headVal:\n                emptyCells.append(index)\n        self.foodIndex = random.choice(emptyCells)\n        self.board[self.foodIndex] = self.foodVal\n\n    def checkValid(self, direction):\n        # check if move is blocked by wall\n        newX, newY = self.potentialPosition(direction)\n        if newX == -1 or newX == self.width:\n            return False\n        if newY == -1 or newY == self.height:\n            return False\n        # check if move is blocked by snake body\n        if self.board[newY, newX] == self.bodyVal:\n            return False\n        return True\n\n    def potentialPosition(self, direction):\n        (newX, newY) = self.snake.getHead().getPosition()\n        if direction == 0:\n            newY -= 1\n        elif direction == 1:\n            newX += 1\n        elif direction == 2:\n            newY += 1\n        elif direction == 3:\n            newX -= 1\n        return (newX, newY)\n\n    def calcState(self):\n        # state is as follows.\n        # Is direction blocked by wall or snake?\n        # Is food in this direction?\n        # (top blocked, right blocked, down blocked, left blocked,\n        # top food, right food, down food, left food)\n        self.state = np.zeros(8, dtype=int)\n        for i in range(4):\n            self.state[i] = not self.checkValid(i)\n        self.state[4:] = self.calcFoodDirection()\n\n    def calcStateNum(self):\n        # calculate an integer number for state\n        # there will be 2^8 potential states but not all states are reachable\n        stateNum = 0\n        for i in range(8):\n            stateNum += 2**i*self.state[i]\n        return stateNum\n\n    def calcFoodDirection(self):\n        # food can be 1 or 2 directions eg. right and up\n        # 0 is up, 1 is right, 2 is down, 3 is left\n        foodDirections = np.zeros(4, dtype=int)\n        dist = np.array(self.foodIndex) - np.array(self.snake.getHead().getIndex())\n        if dist[0] < 0:\n            # down\n            foodDirections[0] = 1\n        elif dist[0] > 0:\n            # up\n            foodDirections[2] = 1\n        if dist[1] > 0:\n            # right\n            foodDirections[1] = 1\n        elif dist[1] < 0:\n            # left\n            foodDirections[3] = 1\n        return foodDirections\n\n    def plottableBoard(self):\n        #returns board formatted for animations\n        board = np.zeros([self.width, self.height])\n        currentNode = self.snake.tail\n        count = 0\n        while True:\n            count += 1\n            board[currentNode.getIndex()] = 0.2 + 0.8*count/self.length\n            currentNode = currentNode.parent\n            if currentNode == None:\n                break\n        board[self.foodIndex] = -1\n        return board\n        \n        \n    def display(self):\n        for i in range(self.width+2):\n            print(\'-\', end=\'\')\n        for i in range(self.height):\n            print(\'\\n|\', end=\'\')\n            for j in range(self.width):\n                if self.board[i, j] == 0:\n                    print(\' \', end=\'\')\n                elif self.board[i, j] == self.headVal:\n                    print(\'O\', end=\'\')\n                elif self.board[i, j] == self.bodyVal:\n                    print(\'X\', end=\'\')\n                elif self.board[i, j] == self.foodVal:\n                    print(\'*\', end=\'\')\n            print(\'|\', end=\'\')\n        print()\n        for i in range(self.width+2):\n            print(\'-\', end=\'\')\n        print()\n#        print(self.board)\n\n    def makeMove(self, direction):\n        gameOver = False\n        if self.checkValid(direction):\n            # set reward if moving in the right direction\n            if self.calcFoodDirection()[direction] == 1:\n                reward = 1\n            else:\n                reward = 0\n            (headX, headY) = self.snake.getHead().getPosition()\n            # set old head to body val\n            self.board[headY, headX] = self.bodyVal\n\n            # check if we got the fruit\n            potX, potY = self.potentialPosition(direction)\n            if self.board[potY, potX] == self.foodVal:\n                # extend the snake\n                self.snake.newHead(potX, potY)\n                self.board[potY, potX] = self.headVal\n                self.spawnFood()\n                self.length += 1\n                # if you want to give a higher reward for getting the fruit, uncomment below\n                reward = 2\n            else:\n                # move the snake\n                (oldTailX, oldTailY, newHeadX, newHeadY) = self.snake.move(direction)\n                self.board[oldTailY, oldTailX] = 0\n                self.board[newHeadY, newHeadX] = self.headVal\n        else:\n            reward = -2\n            gameOver = True\n        self.calcState()\n        return (self.calcStateNum(), reward, gameOver, self.length)\n\n\nif __name__ == "__main__":\n    game = SnakeGame(8, 8)\n    game.display()\n    print("Score: 1")\n    while True:\n        direction = input("Input Direction (w,a,s,d or q to quit): ")\n        if direction == \'w\':\n            new_state, reward, gameOver, score = game.makeMove(0)\n        elif direction == \'a\':\n            new_state, reward, gameOver, score = game.makeMove(3)\n        elif direction == \'s\':\n            new_state, reward, gameOver, score = game.makeMove(2)\n        elif direction == \'d\':\n            new_state, reward, gameOver, score = game.makeMove(1)\n        elif direction == \'q\':\n            break\n        if gameOver:\n            print("Game Over, Score:", score)\n            break\n        else:\n            game.display()\n            print("Reward:", reward, "Score:", score)\n \n QLearning.py \n \'\'\'\nBasic implementation of Q Learning without neural networks\nSometimes the machine will get stuck in an infinite loop of non-scoring moves. If so just rerun the script\n\'\'\'\nimport random\nfrom Snake import SnakeGame\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib.animation as animation\n#%%\n\ndef evaluateScore(Q, boardDim, numRuns, displayGame=False):\n    # Run the game for a specified number of runs given a specific Q matrix\n    cutoff = 100  # X moves without increasing score will cut off this game run\n    scores = []\n    for i in range(numRuns):\n        game = SnakeGame(boardDim, boardDim)\n        state = game.calcStateNum()\n        score = 0\n        oldScore = 0\n        gameOver = False\n        moveCounter = 0\n        while not gameOver:\n            possibleQs = Q[state, :]\n            action = np.argmax(possibleQs)\n            state, reward, gameOver, score = game.makeMove(action)\n            if score == oldScore:\n                moveCounter += 1\n            else:\n                oldScore = score\n                moveCounter = 0\n            if moveCounter >= cutoff:\n                # stuck going back and forth\n                break\n        scores.append(score)\n    return np.average(scores), scores\n\n\n# %%\nboardDim = 16  # size of the baord\n\n# state is as follows.\n# Is direction blocked by wall or snake?\n# Is food in this direction? can either be one or two directions eg (food is left) or (food is left and up)\n# state =  (top blocked, right blocked, down blocked, left blocked, up food, right food, down food, left food)\n# 8 boolean values. Not all states are reachable (eg states with food directions that don\'t make sense)\nnumStates = 2**8\nnumActions = 4  # 4 directions that the snake can move\nQ = np.zeros((numStates, numActions))\n\n# lr = 0.9 #learning rate. not used in this Q learning equation\ngamma = 0.8  # discount rate\nepsilon = 0.2  # exploration rate in training games\nnumEpisodes = 10001  # number of games to train for\n\nQs = np.zeros([numEpisodes, numStates, numActions])\nbestLength = 0\nprint("Training for", numEpisodes, "games...")\nfor episode in range(numEpisodes):\n    #    print("New Game")\n    game = SnakeGame(boardDim, boardDim)\n    state = game.calcStateNum()\n    gameOver = False\n    score = 0\n    while not gameOver:\n        if random.uniform(0, 1) < epsilon:\n            action = random.randint(0, 3)\n        else:\n            possibleQs = Q[state, :]\n            action = np.argmax(possibleQs)\n        new_state, reward, gameOver, score = game.makeMove(action)\n\n        # http: // mnemstudio.org/path-finding-q-learning-tutorial.htm\n        Q[state, action] = reward + gamma * np.max(Q[new_state, :])\n\n        # https://towardsdatascience.com/simple-reinforcement-learning-q-learning-fcddc4b6fe56\n        # Q[state, action] = Q[state, action] + lr * (reward + gamma * np.max(Q[new_state, :]) - Q[state, action])\n        state = new_state\n    Qs[episode, :, :] = np.copy(Q)\n    if episode % 100 == 0:\n        averageLength, lengths = evaluateScore(Q, boardDim, 25)\n        if averageLength > bestLength:\n            bestLength = averageLength\n            bestQ = np.copy(Q)\n        print("Episode", episode, "Average snake length without exploration:", averageLength)\n        \n#%%\n#Animate games at different episodes\nprint("Generating data for animation...")\n#plotEpisodes = [0, 200, 300, 400, 500, 600, 700, 800, 900]\nplotEpisodes = [0, 200, 400, 600, 800, 1000, 2500, 5000, 10000]\nfig, axes = plt.subplots(3, 3, figsize=(9,9))\n\naxList = []\nims = []\ndataArrays = []\nscores = []\nlabels = []\n\nfor i, row in enumerate(axes):\n    for j, ax in enumerate(row):\n        ax.set_title("Episode " + str(plotEpisodes[i*len(row) + j]))\n        ax.get_yaxis().set_visible(False)\n        ax.get_xaxis().set_visible(False)\n        axList.append(ax)\n        ims.append(ax.imshow(np.zeros([boardDim, boardDim]), vmin=-1, vmax=1, cmap=\'RdGy\'))\n        labels.append(ax.text(0,15, "Length: 0", bbox={\'facecolor\':\'w\', \'alpha\':0.75, \'pad\':1, \'edgecolor\':\'white\'}))\n        dataArrays.append(list())\n        scores.append(list())\n        \nstopAnimation = False\nmaxFrames = 1000\ncutoff = 100\nnumGames = 10\nfor k in range(numGames):\n    games = []\n    states = []\n    gameOvers = []\n    moveCounters = []\n    oldScores = []\n    for l in range(len(plotEpisodes)):\n        game = SnakeGame(boardDim, boardDim)\n        games.append(game)\n        states.append(game.calcStateNum())\n        gameOvers.append(False)\n        moveCounters.append(0)\n        oldScores.append(0)\n    for j in range(maxFrames):\n        for i in range(len(plotEpisodes)):\n            possibleQs = Qs[plotEpisodes[i], :, :][states[i], :]\n            action = np.argmax(possibleQs)\n            states[i], reward, gameOver, score = games[i].makeMove(action)\n            if gameOver:\n                gameOvers[i] = True\n            dataArrays[i].append(games[i].plottableBoard())\n            scores[i].append(score)\n            if score == oldScores[i]:\n                moveCounters[i] += 1\n            else:\n                oldScores[i] = score\n                moveCounters[i] = 0\n            if moveCounters[i] >= cutoff:\n                # stuck going back and forth\n                gameOvers[i] = True\n        if not any(gameOver == False for gameOver in gameOvers):\n            print("Game", k, "finished, total moves:", len(dataArrays[0]))\n            break\n\ndef animate(frameNum):\n    for i, im in enumerate(ims):\n        labels[i].set_text("Length: " + str(scores[i][frameNum]))\n        ims[i].set_data(dataArrays[i][frameNum])\n    return ims+labels\nprint("Animating snakes at different episodes...")\n\nnumFrames = len(dataArrays[0])\nani = animation.FuncAnimation(fig, func=animate, frames=numFrames,blit=True, interval=75, repeat=False, )\nplt.show(block=False)\n#%%\n##uncomment below if you want to output to a video file\n#print("Saving to file")\n#ani.save(\'AnimatedGames.mp4\', fps=15, extra_args=[\'-vcodec\', \'libx264\'])\n#print("Done") \n makeQconversionGraphics.py \n ##Generates convergence graph after QLearning script has run\n#%%\nusedQs = []\nfor index, val in np.ndenumerate(Qs[0,:,:]):\n    qLine = Qs[:, index[0], index[1]][:5000]\n    if any([item != 0 for item in qLine]) and qLine[-1] != 0:\n        usedQs.append(np.copy(qLine))\n        \nusedQs = np.abs(usedQs)\ny = []\nfinalVals = []\nfor i in range(len(usedQs)):\n    #y.append((fullQs[j][hasSomethingList[i][0],hasSomethingList[i][1]] - maxVals[i])/maxVals[i])\n    finalVal = np.mean(usedQs[i][-100:])\n    finalVals.append(finalVal)\n    y = (usedQs[i]-finalVal) / finalVal\n    plt.plot(y,color="black",alpha=0.025)\nplt.ylim(-1,0.5)\nplt.title("Convergence of Q Table")\nplt.ylabel("Normalized Q Value")\nplt.xlabel("Episode Number")\nplt.savefig("ConvergenceGraph.png", dpi=300)\nplt.show() \n \n', 'tags': '', 'url': 'Snake RL.html'}, {'title': '課程主題', 'text': '直播與討論, MCAD, SSO, Robotics 與系統開發. \n Theoretical based: \n india_me6501_computeraideddesign.pdf  ( source ) \n P.E. based: \n SJSU CAD course ,  3 course required materials  ( 教科書1 ,  教科書2 ,  教科書3 ) \n Ours are ____ based: \n Problem solving? \n Pre-master programs? \n FMS and AS/RS realization? \n Theory and Design of CNC Systems  (校園網路下載電子書) \n MCAD 套件: \n Solidworks 於 1995 年出現, 在解決 ____ 問題? \n Onshape 的出現, 在解決 ____ 問題? ( reference ) \n 申請 Onshape 教育版帳號 . 假如 Onshape 不再免費:  Solvespace \n Generative Design  時代 真的來臨了 嗎? ( reference ) \n Onshape videos: \n https://www.youtube.com/c/OnshapeInc/videos \n Onshape weaknesses:  https://www.worldcadaccess.com/blog/2021/05/onshapes-two-weaknesses.html \n 電腦輔助設計實習課程面臨的第一個問題是: \n Onshape 與 Solidworks 比較.pdf \n 我們該採用剛購買的 SolidWorks 2021 單機套件, 目前只能支援 IPv4 網路協定認證 (校方安裝認證的 AutoDesk Inventor 已經支援 IPv6 網路協定認證), 還是直接採用近端免安裝, 可以利用瀏覽器使用的 Onshape？ \n 就方便性而言, 採用 Onshape 有許多優點, 但 SolidWorks 仍然是目前台灣業界普遍採用的參數式電腦輔助設計軟體, 因此若最後仍無法在純 IPv6 環境下取得使用授權, 仍可以設法在上課前五分鐘先以 IPv4 協定上網取得 SolidWorks 的使用授權後, 再切換至純 IPv6 的網路環境 (Why?). 然後主要的零組件繪圖軟體仍以 Onshape 為主. \n AutoDesk Inventor 呢? 其他 NX12 以及 Solvespace 等三套用不用? Inventor 與 NX12 仍會用於透過 Python API 網際程式介面修改既有零件參數尺寸的範例中, 而 Solvespace 則仍會納入透過 Msys2 進行編譯後, 可產生基本參數零組件的課程主題中, 假如 Solvespace 也能用於網際程式 API 零件訂製中的一環, 當然更好. \n 至於為何要在電腦輔助設計室採用純 IPv6 網路連線, 主要原因在於只有如此才能有足夠的頻寬聯外, 讓所有學員都能將近端的個人或協同分組倉儲的改版資料送到 Github.com, Gitlab.com 與 Heroku. \n Git 與 Fossil SCM 的出現分別在解決 ____ 問題? \n 電腦輔助設計實習課程面臨的第二個問題是: \n 課程的主軸為何? 在承接計算機程式與網際內容管理課程之後, 我們希望能夠儘量透過程式方法, 協助解決機電整合產品設計與開發上所面臨的問題. 其中包括: \n 1. 設計歷程中版本保留的議題 - 採用 CMSiMDE 與 Github, Gitlab, Heroku 及 Fossil SCM 再加上 Onshape 中的設計繪圖版本進行管理. \n 2. 從 CAD 轉檔至 CoppeliaSim 時, 能否透過程式方法加速建模流程? \n 3. 產品設計報告除了 CMSiMDE 中的網頁, 簡報與網誌外, 能夠直接透過 Github Actions 適時建立所需的 pdf 文件與雙欄位論文格式檔案? \n 4. 希望在 CoppeliaSim 場景中建立自動化機電整合製造系統, 能否透過手動 IK, 純程式設定 IK 與客製化 IK\xa0 運算模組進行模擬運算? \n 5. CMSiMDE html 是否能夠透過  https://github.com/showdownjs/showdown  轉為 Markdown 檔案後, 進一步再透過 Pandoc 轉為 LaTeX 或 pdf, 以便實現產品開發流程中的  Literate Programming  架構. \n It’s been more than three decades since literate programming was invented by the legendary Donald Knuth. Its promise was immense — creating software which was more reliable, more understandable, more maintainable, and with hugely more teaching value — software which targeted both humans and computers. \n What if we replace the software with physical product,  can we reach out a more reliable, more understandable, more maintainable, and with hugely more teaching value product which targeted both humans and computers. \n 意即: 如何能夠在人與電腦雙重導向的架構中, 完成更可靠, 更令人容易理解, 更易於維護且具備教育價值的產品開發流程. \n 更可靠  - 設計資料不易丟失, 每一個環節都能接受驗證, 針對設計流程提出可信賴且正確運算的結果. \n 更令人容易理解  - 列出與設計相關的每一項細節, 背景說明及參考資料. \n 更容易維護  - 不斷思索如何讓產品設計流程更加快速便捷, 易於管理. \n 具備教育價值  - 留下產品設計歷程中進行決策的所有細節, 並舉出當時所面臨的環境與條件選項, 以供參考追蹤學習. \n 電腦輔助設計實習課程應該要解決 ____ 問題? \n 然後呢? \n \n 從  https://www.pbr-book.org/  帶出  Webots  也許是下一階段有關電腦輔助與協同產品設計相關課程應該進入的領域. ( https://cyberbotics.com/doc/guide/samples-rendering ) \n Oauth2 從取得使用者登入帳號之後, 再根據 session 中的資料與 Fossil SCM 的 password management, 或許就能有效連結 Google, Github, Gitlab 帳號. 亦即, 當網際 Python 程式經由 Oauth2 取得使用者帳號後, 就發出一則 SQL, 讓該用戶在 Fossil SCM 視為已經登入, 如此便可由該帳號對所屬 Fossil SCM 倉儲進行管理. ( https://github.com/mdecourse/fossiloauth ) \n 繼續探究  https://www.coppeliarobotics.com/helpFiles/en/PyRep.htm  在機電整合系統中與視覺辨識及強化學習相關應用. \n \n 利用  Onshape  設計繪圖 (教學使用 course At mde): \n https://learn.onshape.com/collections/onshape-fundamentals-cad \n Onshape Forum:  https://forum.onshape.com/ \n Can we joint  https://dev-portal.onshape.com/ \n Conveyor Calculator \n Digital Manufacturing with Onshape \n https://www.onshape.com/en/resource-center/articles/how-to-onboard-your-first-robotics-team \n Featurescript:  https://cad.onshape.com/FsDoc/ \n Featurescript 參考資料 \n 利用 Featurescript 建立正齒輪程式庫  ( Onshape 版本 ) \n https://www.onshape.com/en/features/custom-features \n 六軸機械手臂在解決 ____ 問題? \n Onshape and CoppeliaSim to create an automation assembly line: \n 六軸機械手臂零組件 \n https://www.coppeliarobotics.com/helpFiles/en/buildingAModelTutorial.htm \n https://www.coppeliarobotics.com/helpFiles/en/xmlFormat.htm \n https://www.coppeliarobotics.com/helpFiles/en/simUI-widgets.htm \n https://www.coppeliarobotics.com/helpFiles/en/importExport.htm \n IK and Automation: \n https://www.coppeliarobotics.com/helpFiles/en/inverseKinematicsTutorial.htm \n https://www.coppeliarobotics.com/helpFiles/en/basicsOnIkGroupsAndIkElements.htm \n IK example  (use Onshape create robot assembly and use Lua and Python to control the robot) \n \n', 'tags': '', 'url': '課程主題.html'}, {'title': '直播與討論', 'text': '電腦輔助設計實習課程開設目的在: \n \n 教導學員收集, 閱讀並整理與 Computer Aided Mechanical Design 有關的知識. \n 引導學員運用所整理的知識, 藉由實作與練習, 解決" 設計多軸機械手臂與周邊設施, 開發能夠自動組裝機械手臂的 彈性製造系統  (Flexible Manufacturing System) 與  AS/RS  (Automated Storage and Retrieval System) 系統 "過程所遭遇的各種問題. \n 鼓勵學員將學習過程所遭遇的問題或成果, 仔細描述後寫成網誌, 其中必須有系統地說明如何搜尋相關資料, 如何擬定解題步驟, 並利用帶字幕的影片說明實作與練習過程. \n 讓各學員於課程項目實作與練習自評階段時, 能夠提供可定量化與定性化的表格後, 再總結給分. \n 讓各學員於互評階段時, 能根據上述受評者所提供的網誌, 操作影片與自評參考內容後, 再總結給分. \n \n 個人倉儲與網站: \n 為何參與電腦輔助設計流程的工程師需要運用分散式版次管理系統與雲端網站? \n 版次管理系統在解決 ____ 問題? \n 為何電腦輔助設計相關檔案與設計內容需要分散式管理? 筆電被汽車碾碎之後, 導致研究數據及論文內容丟失, 而無法及時畢業, 該不該令人同情? \n 為何電腦輔助設計流程強調輕薄短小, 敏捷 ( agile ) 迅速? 是因為現代人所處的環境瞬息萬變? 還是因為 ____ ? \n 為何少負擔多建樹會是參與協同電腦輔助設計專案流程的重要貢獻指標? \n The Scrum Culture  (校園網路下載電子書) \n Knowledge Management \xa0(校園網路下載電子書) \n Grammar for Teachers \xa0(校園網路下載電子書) \n 少負擔: \n 無需厚重的軟硬體工具, 就可以完成團隊直播會議中所指定 (assign) 的工作. \n 無需擔心電腦輔助設計檔案會丟失, 近端硬碟會損壞, 網路會斷線, 電腦會當機. \n 無需擔心團隊工作過程中, 重要的貢獻會被忽視或掩蓋, 團隊直播會議中會沒有發言內容. \n 有沒有好方法可以解決此刻分組團隊正在頭痛的電腦輔助設計問題? \n 多建樹: \n 任何一項工作進度, 都有佐證用的操作影片與提交紀錄可以供人檢視查驗 \n 時刻都在思考並搜尋每一項工作任務, 是否可以採用更好的作法解題, 是否已經有人克服相關難題. \n cmstemplate:  https://github.com/mdecourse/cmstemplate \n CMSiMDE:  https://github.com/mdecourse/cmsimde \n 直播與錄影: \n 課程直播與分組討論直播 - Microphone 與 Webcam 選擇與推薦. \n Google Meet ,  OBS  +  Youtube ,  https://jitsi.org/,   zoomit ,  Sharex  (直播錄影過程是否可再同時進行其他示範錄影?),  FFmpeg  應用等議題. \n 課程討論區: \n Gitter: \n https://gitter.im/ \n https://gitter.im/mdecourse/cad2021 \n Zulip: \n 為什麼要使用 Zulip? \n 學習使用  https://kmolab.zulipchat.com \n Fossil SCM: \n Forum 與 Chat \n', 'tags': '', 'url': '直播與討論.html'}, {'title': 'CAD', 'text': 'Automatically Generating 60,000 CAD Variantsfor Big Data Applications.pdf \n https://towardsdatascience.com/suggestive-computer-aided-design-a9c7698c1cc9 \n Computer Aided Design as Language.pdf \n Integrating Deep Learning into CAD/CAE System Generative Design and Evaluation of3D Conceptual Wheel.pdf \n Computer-Aided Design (CAD) applications are used in manufacturing to model everything from coffee mugs to sports cars. These programs are complex and require years of training and experience to master. A component of all CAD models particularly difficult to make are the highly structured 2D sketches thatlie at the heart of every 3D construction. In this work, we propose a machine learning model capable of automatically generating such sketches. Through this, we pave the way for developing intelligent tools that would help engineers  create better designs with less effort . Our method is a combination of a general-purpose language modeling technique alongside an off-the-shelf data serialization protocol. We show that our approach has enough flexibility to accommodate the complexity of the domain and performs well for both unconditional synthesis and image-to-sketch translation. \n SolidWorks \n SolidWorks Robot model import into CoppeliaSim \n https://www.youtube.com/watch?v=jfUA2W-niIc \n URDF: \n Unified Robotic Description Format ( URDF ) is an XML file format used in ROS to describe all elements of a robot. \n http://wiki.ros.org/urdf/XML/model \n Intro to URDF:  https://industrial-training-master.readthedocs.io/en/melodic/_source/session3/Intro-to-URDF.html \n Building a Visual Robot Model with URDF from Scratch \n Use Python to generate URDF:  https://github.com/mdecourse/odio_urdf \n https://github.com/yanshil/Fusion2PyBullet  (Pybullet) \n https://github.com/mdecourse/urdf2webots  (Webots) \n https://github.com/dfki-ric/phobos  (Blender) \n \n \n simExtURDF: \n https://github.com/CoppeliaRobotics/simExtURDF \n', 'tags': '', 'url': 'CAD.html'}, {'title': 'Compile Solvespace', 'text': 'Solvespace 可用來解決 ____ 問題? \n 能夠自行編譯 Solvespace 參數式 3D 零組件繪圖套件的意義何在? \n 了解 Solvespace 套件的 設計原理 , 對於機械產品開發有任何意義嗎? \n Don’t confuse essence with tools. 到底在說什麼? \n 電腦輔助設計的  essence  是 ____? \n \n Guide to Scientific Computing in C++  (校園網路下載電子書) \n Concise Guide to Databases  (校園網路下載電子書) \n 由於利用  MSYS2  編譯 Solvespace, 需要 install cmake \n pacman -S mingw-w64-x86_64-cmake \n 而且必須 rename Y:\\msys64_20210419\\mingw64\\bin\\sh.exe 與\xa0Y:\\portablegit_2.31.1\\bin\\sh.exe 換成其他名稱. \n git clone --recurse-submodules https://github.com/solvespace/solvespace.git cd solvespace mkdir build cd build cmake .. -G "MinGW Makefiles" -DCMAKE_BUILD_TYPE=Release make need libwinpthread-1.dll to execute solvespace.exe \n', 'tags': '', 'url': 'Compile Solvespace.html'}, {'title': 'Lua', 'text': '2016_LuaProgramming.pdf \n', 'tags': '', 'url': 'Lua.html'}, {'title': 'CAD in Rust', 'text': 'rust_1.53.0_portable_for_msys2.7z  (下載 147MB , 解開壓縮後 1.13GB) \n Rust Playground:  https://play.rust-lang.org/ \n https://doc.rust-lang.org/stable/book/ \n Upenn Rust Programming: \n https://www.cis.upenn.edu/~cis198/ \n https://github.com/upenn-cis198 \n Umd Organization of Programming Language: \n https://www.cs.umd.edu/class/fall2020/cmsc330/ \n https://www.cs.umd.edu/class/fall2020/cmsc330/lectures/27-rust-introduct.pdf \n https://www.cs.umd.edu/class/fall2020/cmsc330/lectures/28-ownership.pdf \n https://www.cs.umd.edu/class/fall2020/cmsc330/lectures/29-collections.pdf \n https://www.cs.umd.edu/class/fall2020/cmsc330/lectures/30-structs-enums.pdf \n Geometric Constraints Solver: \n https://github.com/mdecourse/constraints  (In Rust) \n https://adventures.michaelfbryan.com/posts/constraints-part-1-expressions/ \n A Rust CAD system: \n https://github.com/mdecourse/arcs \n https://adventures.michaelfbryan.com/posts/ecs-outside-of-games/ \n Rust for Linux: \n https://github.com/Rust-for-Linux/linux \n Planar Linkage in Rust: \n https://github.com/KmolYuan/four-bar-rs \n https://kmolyuan.github.io/four-bar-rs/ \n', 'tags': '', 'url': 'CAD in Rust.html'}, {'title': 'DSL', 'text': 'Domain-Specific Languages \n Taichi: \n https://taichi.graphics/ \n https://github.com/taichi-dev/taichi \n Taichi Tutorial \n Taichi: A Language for High-Performance Computation on Spatially Sparse Data Structures \n Life of a Taichi Kernel: \n \n \n Featurescript \n https://cad.onshape.com/FsDoc/  能做什麼? \n http://cadlab.mde.tw/post/onshape-featurescript-cheng-shi-yu-yan.html \n https://cadlab.mde.tw/post/tag/featurescript.html \xa0 \n https://github.com/dcowden/featurescript \n https://www.onshape.com/en/features/custom-features \n A Big CAD dataset for geometric deep learning: \n https://deep-geometry.github.io/abc-dataset/ \n https://deep-geometry.github.io/abc-dataset/ \n', 'tags': '', 'url': 'DSL.html'}, {'title': 'Open CAD', 'text': 'CAD in Python: \n 純 Python 2D CAD: \n https://github.com/mdecourse/pyurcad \n https://github.com/mdecourse/cad  (PyQt5) \n 3D: \n https://sites.google.com/site/3dprogramminginpython/ \n https://github.com/mdecourse/codecad \n LeoCAD in C++ and Qt5: \n 編譯 LeoCAD: \n https://www.leocad.org/docs/compiling.html \n 原始碼: https://github.com/leozide/leocad \n Xeogl: \n https://cx20.github.io/webgl-test/ \n http://xeogl.org/ \n https://github.com/cx20/webgl-test \n \n \n', 'tags': '', 'url': 'Open CAD.html'}, {'title': 'Bevel Gears', 'text': '參考: \n https://hackaday.io/project/174370-minamil-a-minimal-cnc-mill-and-friends/log/185917-bevel-gears-twos-company \n Featurescript ( source ,  discussion ): \n /*    \n    Bevel Gear pair\n    \n    This custom feature creates a bevel gear pair.\n    \n    TODO:\n     - use better tooth profile. See:\n         https://cad.onshape.com/documents/5742c8cde4b06c68b362d748/v/c65839fc6078faeb4d2aece1/e/01a666571e625f8b819fd75b\n*/\n\nFeatureScript 531;\nimport(path : "onshape/std/geometry.fs", version : "531.0");\n\n\nannotation { "Feature Type Name": "Bevel Gear Pair", "Filter Selector": ["bevel", "gear"]}\nexport const BevelGearPair = defineFeature(function(context is Context, id is Id, definition is map)\n    precondition\n    {\n        annotation {"Name": "Number of teeth for gear 1"}\n        isInteger(definition.Z1, TEETH_BOUNDS);\n        \n        annotation {"Name": "Number of teeth for gear 2"}\n        isInteger(definition.Z2, TEETH_BOUNDS);\n\n        annotation {"Name": "Module"}\n        isReal(definition.m, MODULE_BOUNDS);\n\n        annotation {"Name": "Shafts angle"}\n        isAngle(definition.theta, SHAFT_ANGLE_BOUNDS);\n\n        annotation {"Name": "Teeth width"}\n        isLength(definition.e, TEETH_WIDTH_BOUNDS);\n        \n        annotation {"Name": "Height 1"}\n        isLength(definition.h1, H1_BOUNDS);\n        \n        annotation {"Name": "Height 2"}\n        isLength(definition.h2, H2_BOUNDS);\n        \n        annotation {"Name": "Pressure angle"}\n        isAngle(definition.alpha, PRESSURE_ANGLE_BOUNDS);\n    }\n    \n    {\n        // lambdas\n        // pitch apex to outside pitch distance for a bevel gears pair\n        var pitchApex = function(r1, r2, theta) { return r2 * sin(theta) + (r2 * cos(theta) + r1) / tan(theta); };\n        \n        // cone distance (R) for a bevel gears pair\n        var coneDistance = function(r1, r2, theta) { return sqrt(pitchApex(r1, r2, theta) ^ 2 + r1 ^ 2); };\n\n        // common values for a gear pair\n        const addendum = 1 * definition.m * millimeter;\n        const dedendum = 1.25 * definition.m * millimeter;\n        const r1 = definition.m * definition.Z1 / 2 * millimeter;  // external pitch radius\n        const r2 = definition.m * definition.Z2 / 2 * millimeter;\n        const delta1 = atan(sin(definition.theta) / (definition.Z2 / definition.Z1 + cos(definition.theta)));\n        const delta2 = atan(sin(definition.theta) / (definition.Z1 / definition.Z2 + cos(definition.theta)));\n        const scale_ = 1 - definition.e / coneDistance(r1, r2, definition.theta);  // scale factor for teeth generation\n\n        // gear 1\n        var value1 = {\n            Z: definition.Z1,\n            delta: delta1,\n            scale: scale_,\n            shift1: 0 * millimeter,\n            shift2: 0 * millimeter,\n            rot: 0 * degree,\n            turn: 0\n        };\n        bevelGear(context, id + "1", definition, value1);\n\n        // gear 2\n        var turn_;\n        if ((definition.Z2 % 2) != 0) {\n            turn_ = 0;\n        }\n        else {\n            turn_ = 1;\n        }\n        var value2 = {\n            Z: definition.Z2,\n            delta: delta2,\n            scale: scale_,\n            shift1: pitchApex(r1, r2, definition.theta) + dedendum * sin(delta1),\n            shift2: pitchApex(r2, r1, definition.theta) + dedendum * sin(delta2),\n            rot: definition.theta,\n            turn: turn_\n        };\n        bevelGear(context, id + "2", definition, value2);\n\n    }, {});\n\n\nfunction bevelGear(context is Context, id is Id, definition is map, value is map)\n{\n    /*\n    value = {\n        Z,\n        delta,\n        scale,\n        shift1,\n        shift2,\n        rot,\n        turn\n    }\n    */\n\n    // compute gear geometry\n    const addendum = 1 * definition.m * millimeter;\n    const dedendum = 1.25 * definition.m * millimeter;\n    const r = definition.m * value.Z / 2 * millimeter;  // external pitch radius\n    const ri = r - definition.e * sin(value.delta);     // internal pitch radius\n    const h1 = dedendum * sin(value.delta) + definition.e * cos(value.delta) - dedendum * value.scale * sin(value.delta);\n    const ra1 = r + addendum * cos(value.delta);\n    const rf1 = r - dedendum * cos(value.delta);\n    const ra2 = ri + addendum * cos(value.delta) * value.scale;\n    const rf2 = ri - dedendum * cos(value.delta) * value.scale;\n    const rf1p = rf1 - definition.h1 / tan(value.delta);\n    const rf2p = rf2 - definition.h2 / tan(value.delta);\n    //const rf2pp = rf2 - h1 / tan(value.delta);\n\n    const plane1 = plane(vector(0, 0, 0) * millimeter, vector(0, -1, 0), vector(1, 0, 0));\n    const sketch1 = newSketchOnPlane(context, id + "sketch1", {"sketchPlane": plane1});\n    \n    skPolyline(sketch1, "polyline1", {\n        points : [\n            vector(0 * millimeter, -definition.h1),\n            vector(rf1p, -definition.h1),\n            vector(rf1, 0 * millimeter),\n            vector(rf2, h1),\n            vector(rf2p, h1 - definition.h2),\n            vector(0 * millimeter, h1 - definition.h2),\n            vector(0 * millimeter, -definition.h1)\n        ],\n        constrained: true\n    });\n\n    skSolve(sketch1);\n\n    // rotate extrude segments\n    opRevolve(context, id + "revolve1", {\n        "entities" : qSketchRegion(id + "sketch1"),\n        "axis" : line(vector(0, 0, 0) * millimeter, vector(0, 0, 1)),\n        "angleForward" : 360 * degree\n    });\n\n    // Remove sketch entities no longer required\n    opDeleteBodies(context, id + "delete1", {"entities" : qCreatedBy(id + "sketch1")});\n\n    // teeths generation\n    const plane2 = plane(vector(0, 0, 0) * millimeter, vector(0, 0, 1), vector(1, 0, 0));\n    const sketch2 = newSketchOnPlane(context, id + "sketch2", {"sketchPlane": plane2});\n\n    // outer teeth profile\n    skPolyline(sketch2, "polyline2", {\n        points: gearTooth2D(r / cos(value.delta), definition.m, definition.alpha),\n    });\n\n    skSolve(sketch2);\n    \n    const plane3 = plane(vector(0 * millimeter, 0 * millimeter, definition.e), vector(0, 0, 1), vector(1, 0, 0));\n    const sketch3 = newSketchOnPlane(context, id + "sketch3", {"sketchPlane": plane3});\n\n    // inner teeth profile\n    skPolyline(sketch3, "polyline3", {\n        points: gearTooth2D(value.scale * r / cos(value.delta), value.scale * definition.m, definition.alpha),\n    });\n\n    skSolve(sketch3);\n\n    // generate tooth body\n    opLoft(context, id + "loft1", {\n        "profileSubqueries": [\n            qCreatedBy(id + "sketch2", EntityType.FACE),\n            qCreatedBy(id + "sketch3", EntityType.FACE),\n        ],\n    });\n\n    // Remove sketch entities no longer required\n    opDeleteBodies(context, id + "delete2", {"entities" : qCreatedBy(id + "sketch2")});\n    opDeleteBodies(context, id + "delete3", {"entities" : qCreatedBy(id + "sketch3")});\n\n    // move tooth back in place\n    const matrix1 = rotationMatrix3d(vector(1, 0, 0), value.delta);\n    const transform1 = transform(matrix1, vector(0, 0, 0) * millimeter);\n    const transform2 = transform(vector(0 * millimeter, r, dedendum * sin(value.delta)));\n    opTransform(context, id + "transform1", {\n            "bodies" : qCreatedBy(id + "loft1", EntityType.BODY),\n            "transform": transform2 * transform1\n    });\n\n    // copy teeth all around\n    var transforms = [];\n    var names = [];\n    for (var i = 1; i < value.Z; i += 1) {\n        const matrix = rotationMatrix3d(vector(0, 0, 1), i * 360 / value.Z * degree);\n        transforms = append(transforms, transform(matrix, vector(0, 0, 0) * millimeter));\n        names = append(names, toString(i));\n    }\n    opPattern(context, id + "pattern1", {\n        "entities": qCreatedBy(id + "loft1", EntityType.BODY),\n        "transforms": transforms,\n        "instanceNames": names\n    });\n\n    // merge all parts\n    opBoolean(context, id + "boolean1", {\n        "tools" : qCreatedBy(id, EntityType.BODY),\n        "operationType" : BooleanOperationType.UNION\n    });\n\n    // move gear in place\n    const matrix2 = rotationMatrix3d(vector(0, 0, 1), value.turn * 360 / value.Z / 2 * degree);\n    const transform3 = transform(matrix2, vector(0, 0, 0) * millimeter);\n    const transform4 = transform(vector(0 * millimeter, 0 * millimeter, -value.shift2));\n    const matrix3 = rotationMatrix3d(vector(1, 0, 0), value.rot);\n    const transform5 = transform(matrix3, vector(0, 0, 0) * millimeter);\n    const transform6 = transform(vector(0 * millimeter, 0 * millimeter, value.shift1));\n    opTransform(context, id + "transform2", {\n        "bodies" : qCreatedBy(id, EntityType.BODY),\n        "transform": transform6 * transform5 * transform4 * transform3\n    });\n}\n\n\nfunction gearTooth2D(r is ValueWithUnits, m is number, alpha is ValueWithUnits)\n{\n    // convert polar to cartesian coordinates\n    var polar = function(r, theta) { return r * vector(sin(theta), cos(theta)); };\n\n    // unwind a string this many degrees to go from radius r1 to radius r2\n    var iang = function(r1, r2) { return sqrt((r2 / r1) ^ 2 - 1) / PI * 180 * degree - acos(r1 / r2); };\n\n    // point at radius d on the involute curve\n    var q6 = function(b, s, t, d) { return polar(d, s * (iang(b, d) + t)); };\n\n    // radius a fraction f up the curved side of the tooth\n    var q7 = function(f, r, b, r2, t, s) { return q6(b, s, t, (1 - f) * max(b, r) + f * r2); };\n\n    const Z = 2 * r / (m * millimeter);                      // number of teeth\n    const ra = r + 1 * m * millimeter;                       // radius of outer circle (tête)\n    const rb = r * cos(alpha);                               // radius of base circle (base de la dent)\n    const rf = r - 1.25 * m * millimeter;                    // radius of root circle (pied)\n    const w = m * PI / 2 * millimeter;                       // tooth width at pitch circle\n    const k = -iang(rb, r) - w / 2 / r / PI * 180 * degree;  // angle to where involute meets base circle on each side of tooth\n\n    const offset = vector(0 * millimeter, -r);               // bring back tooth at origin\n\n    var points;\n    if (rf < rb) {\n        points = [\n            polar(rf, k) + offset,\n            q7(0/5, rf, rb, ra, k,  1) + offset, q7(1/5, rf, rb, ra, k,  1) + offset, q7(2/5, rf, rb, ra, k,  1) + offset,\n            q7(3/5, rf, rb, ra, k,  1) + offset, q7(4/5, rf, rb, ra, k,  1) + offset, q7(5/5, rf, rb, ra, k,  1) + offset,\n            q7(5/5, rf, rb, ra, k, -1) + offset, q7(4/5, rf, rb, ra, k, -1) + offset, q7(3/5, rf, rb, ra, k, -1) + offset,\n            q7(2/5, rf, rb, ra, k, -1) + offset, q7(1/5, rf, rb, ra, k, -1) + offset, q7(0/5, rf, rb, ra, k, -1) + offset,\n            polar(rf, -k) + offset,\n            polar(rf, k) + offset  // close profile\n        ];\n    }\n    else {\n        points = [\n            q7(0/5, rf, rb, ra, k,  1) + offset, q7(1/5, rf, rb, ra, k,  1) + offset, q7(2/5, rf, rb, ra, k,  1) + offset,\n            q7(3/5, rf, rb, ra, k,  1) + offset, q7(4/5, rf, rb, ra, k,  1) + offset, q7(5/5, rf, rb, ra, k,  1) + offset,\n            q7(5/5, rf, rb, ra, k, -1) + offset, q7(4/5, rf, rb, ra, k, -1) + offset, q7(3/5, rf, rb, ra, k, -1) + offset,\n            q7(2/5, rf, rb, ra, k, -1) + offset, q7(1/5, rf, rb, ra, k, -1) + offset, q7(0/5, rf, rb, ra, k, -1) + offset,\n            q7(0/5, rf, rb, ra, k,  1) + offset  // close profile\n        ];\n    }\n\n    return points;\n}\n\n\nconst TEETH_BOUNDS = {\n    (unitless) : [4, 25, 250]\n} as IntegerBoundSpec;\n\n\nconst SHAFT_ANGLE_BOUNDS = {\n    (degree) : [5, 90, 175]\n} as AngleBoundSpec;\n\n\nconst MODULE_BOUNDS = {\n    (unitless) : [0.1, 1, 10]\n} as RealBoundSpec;\n\n\nconst TEETH_WIDTH_BOUNDS = {\n    (millimeter) : [0.1, 5, 100],\n    (centimeter) : 0.5,\n    (meter) : 0.005,\n    (inch) : 0.2\n} as LengthBoundSpec;\n\n\nconst H1_BOUNDS = {\n    (millimeter) : [0.1, 1, 50],\n    (centimeter) : 0.1,\n    (meter) : 0.001,\n    (inch) : 0.0375\n} as LengthBoundSpec;\n\n\nconst H2_BOUNDS = {\n    (millimeter) : [0.1, 0.5, 50],\n    (centimeter) : 0.05,\n    (meter) : 0.0005,\n    (inch) : 0.0175\n} as LengthBoundSpec;\n\n\nconst PRESSURE_ANGLE_BOUNDS = {\n    (degree) : [14.999, 20, 25]\n} as AngleBoundSpec;\n \n Bevel Gear2 ( source ,  page ): \n FeatureScript 961;\nimport(path : "onshape/std/geometry.fs", version : "961.0");\n\nannotation { "Feature Type Name" : "Bevel Gear" }\nexport const myFeature = defineFeature(function(context is Context, id is Id, definition is map)\nprecondition\n{\n\t// Define the parameters of the feature type\n\n\tannotation { "Name" : "Module" }\n\tisInteger(definition.module, POSITIVE_COUNT_BOUNDS);  \n\t\n\tannotation { "Name" : "Pressure Angle Input type" }\n\tdefinition.PressAngInputType is PressureAngleType;\n\t\n\tif(definition.PressAngInputType == PressureAngleType.standardPressAngle)\n\t{\n\t\tannotation { "Name" : "Pressure Angle (degrees)" }\n\t\tdefinition.stdPressAngle is stdPressAngles;\n\t}\n\telse\n\t{\n\t\tannotation { "Name" : "Custom Pressure Angle (degrees)"  }\n\t\tisAngle(definition.pressureAngle, ANGLE_360_BOUNDS); \n\t}\n\t\n\tannotation { "Name" : "Number of Teeths in Gear" }\n\tisInteger(definition.gearTeeths, POSITIVE_COUNT_BOUNDS);\n\t\n\tannotation { "Name" : "Face Width" }\n\tisLength(definition.faceWidth, LENGTH_BOUNDS);        \n\t\n\tannotation { "Name" : "Root Fillet Radius" }\n\tisLength(definition.RootFilletRadius, LENGTH_BOUNDS);\n\t\n\tannotation { "Name" : "Gear Ratio" }\n\tisInteger(definition.gearRatio, POSITIVE_COUNT_BOUNDS);\n\t\n\tannotation { "Name" : "Hole Diameter" }\n\tisLength(definition.HoleDia, LENGTH_BOUNDS);   \n\t\n\t//End of Parameter def\n}\n{\n\t// Define the function\'s action\n\t//Calculations for gear nomenclatures\n\n\tvar diameteralPitch = (25.4 / definition.module);        \n\tvar gearPitchDia = (definition.gearTeeths / diameteralPitch) * meter;\n\tdefinition.pinionTeeths = round(definition.gearTeeths / definition.gearRatio);\n\tvar pinionPitchDia = (definition.pinionTeeths / diameteralPitch) * meter;\n\tvar theta = atan(gearPitchDia / pinionPitchDia);\n\n\ttheta = ((theta * 180 / PI) / radian);\n\tvar zOffset = (definition.faceWidth * cos((theta / 2) * degree));\n\n\tif(zOffset > ((pinionPitchDia / 2) * 0.9))\n\t{\n\t\tthrow regenError("Component failed to create - Face Width greater than cone distance");\n\t}\n\t\n\tif(zOffset < ((pinionPitchDia / 2) * 0.2))\n\t{\n\t\tthrow regenError("Component failed to create - Face Width less than minimum required value.");\n\t}\n\t\n\tvar pitchDiameter = gearPitchDia + definition.faceWidth * sin(theta * 0.5 * degree);\n\tvar planeOffset = 0 * meter;        \n\t// Recalculate diametral Pitch\n\tdiameteralPitch = definition.gearTeeths / pitchDiameter * meter;\n\t\n\tvar dedendum =  0;        \n\tdedendum = calculateDedendum(context, diameteralPitch) * meter;\n\t\n\tvar rootDiameter = pitchDiameter - (2 * dedendum);\n\n\tvar baseCircleDiameter = pitchDiameter * cos(definition.pressureAngle);\n\n\tvar outsideDiameter = (definition.gearTeeths + 2) / diameteralPitch * meter;\n\t\n\t// Add base circle sketch;               \n\tvar baseCircle1 = newSketch(context, id + "baseCircle1", {\n\t\t\t"sketchPlane" : qCreatedBy(makeId("Front"), EntityType.FACE)\n\t});\n\t\n\t\tskCircle(baseCircle1, "baseCircle1", {\n\t\t\t   "center" : vector(0, 0) * meter,\n\t\t\t   "radius" : 1 * (baseCircleDiameter / 2)\n\t\t});\n\t\n\tskSolve(baseCircle1);\n\n\t// End of base circle sketch\n\t\n\t// Calculate and define nomenclatures for offset Plane for Loft operation\n\tvar pitchDiameter2 = gearPitchDia - (definition.faceWidth * sin(theta * degree) / 2);\n\t\n\tvar diameteralPitch2 = definition.gearTeeths / pitchDiameter2 * meter;\n\n\tvar dedendum2 = 0;\n\tdedendum2 = calculateDedendum(context, diameteralPitch2) * meter;\n\tif (dedendum2 == 0)\n\t\tthrow regenError("failed to calculate value of dedndum");\n\t\n\tplaneOffset = zOffset;\n\t\n\t//Creating Offset Plane\n\topPlane(context, id + "plane1", {\n\t\t\t"plane" : plane(vector(0, (-1) *  zOffset / meter, 0) * meter, vector(0, -1, 0 )),\n\t\t\t"width" : 6 * inch,\n\t\t\t"height" : 6 * inch\n\t});\n\t\n\tvar rootDiameter2 = pitchDiameter2 - (2 * dedendum2);\n\n\tvar baseCircleDiameter2 = pitchDiameter2 * cos(definition.pressureAngle);\n\n\tvar outsideDiameter2 = (definition.gearTeeths + 2) / diameteralPitch2 * meter;\n\t\n\t// Add base circle 2 sketch\n\tvar baseCircle2 = newSketch(context, id + "baseCircle2", {\n\t\t\t"sketchPlane" : qCreatedBy((id + "plane1"), EntityType.FACE)\n\t});\n\t\n\tskCircle(baseCircle2, "baseCircle2", {\n\t\t\t"center" : vector(0, 0) * meter,\n\t\t\t"radius" : 1 * (baseCircleDiameter2 / 2)\n\t});  \n\t\t\n\tskSolve(baseCircle2);\n\t// End of base circle sketch\n   \n\t// Create sketch entity for shaft.\n\tvar shaftCircle = newSketch(context, id + "shaftCircle", {\n\t\t\t"sketchPlane" : qCreatedBy(makeId("Front"), EntityType.FACE)\n\t});\n\n\tskCircle(shaftCircle, "shaftCircle", {\n\t\t\t"center" : vector(0, 0) * meter,\n\t\t\t"radius" : 1 * (definition.HoleDia / 2)\n\t});\n\t\n\tskSolve(shaftCircle);\n\t// ### Executing Loft Operation ############################################################       \n\topLoft(context, id + "loft1", {\n\t\t\t"profileSubqueries" : [ qCreatedBy(id + "baseCircle1", EntityType.FACE), qCreatedBy(id + "baseCircle2", EntityType.FACE) ],\n\t});\n\t// Begining Calculations for Involute points for gear teeth sketch.        \n\tvar involutePoints1 = [];\n\tvar involutePoints2 = [];\n\tvar tempInvoluteSet = [];        \n\n\tvar toothThicknessAngle = ((2 * PI) / (2 * definition.gearTeeths)) * 180 / PI;       \n\tvar involutePointCount = 15;    \n\tvar involuteIntersectionRadius = baseCircleDiameter / 2;\n\tvar involuteSize = (outsideDiameter / 2) - (baseCircleDiameter / 2);\n  \n\tplaneOffset = 0 * meter;\n\n\tfor (var t = 0; t < involutePointCount; t += 1)\n\t{    \n\t\tinvoluteIntersectionRadius = (baseCircleDiameter / 2.0) + ((involuteSize / (involutePointCount - 1)) * t);\n\t\tvar newPt = involutePoint(context, baseCircleDiameter / 2, involuteIntersectionRadius, planeOffset);\n\t\ttempInvoluteSet = append(tempInvoluteSet, newPt);\n\t}\n\t// Determine the angle between the X axis and a line between the origin of the curve and the intersection point between the involute and the pitch diameter circle.\n\n\tvar pitchInvolutePt = involutePoint(context, baseCircleDiameter / 2, pitchDiameter / 2, planeOffset);\n\t\t\n\tvar pitchPointAngle = atan(pitchInvolutePt[1] / pitchInvolutePt[0]) * 180 /(PI * radian);\n\n\t// Determine the angle defined by the tooth thickness as measured at the pitch diameter circle.\n\n\t//Angle to rotate the curve\n\tvar rotateAngle = (-1) * (toothThicknessAngle / 2 + pitchPointAngle);\n\t// Rotate the involute so the intersection point lies on the x axis.\n\tvar cosAngle = cos(rotateAngle * degree);\n\tvar sinAngle = sin(rotateAngle * degree);\n\n\tfor (var pt in tempInvoluteSet)\n\t{\n\t\tpt[0] = pt[0] * cosAngle - pt[1] * sinAngle;\n\t\tpt[1] = pt[0] * sinAngle + pt[1] * cosAngle;\n\t\tinvolutePoints1 = append(involutePoints1, vector( pt[0], pt[1] ) * meter);\n\t\t// Create a new set of points with a negated y.  This effectively mirrors the original points about the X axis. \n\t\tvar negatedPt = vector(pt[0], (-1) * pt[1] );\n\t\tinvolutePoints2 = append(involutePoints2, negatedPt * meter);\n\t}\n\n\t// Create sketch for Teeth Profile\n\tvar Involute1 = newSketch(context, id + "Involute1", {\n\t\t\t"sketchPlane" : qCreatedBy(makeId("Front"), EntityType.FACE)\n\t});\n\n\tskFitSpline(Involute1, "spline1", {\n\t\t\t"points" : involutePoints1\n\t});\n\t\n\tskFitSpline(Involute1, "spline2", {\n\t\t\t"points" : involutePoints2\n\t});\n\t\n\tskArc(Involute1, "gearTop", {\n\t\t\t"start" : 1 * involutePoints1[involutePointCount - 1] ,\n\t\t\t"mid" : 1 * vector(outsideDiameter / 2, 0 * meter ),\n\t\t\t"end" : 1 * involutePoints2[involutePointCount - 1]\n\t});\n\t\t\t\n   skArc(Involute1, "gearBase", {\n\t\t\t"start" : 1 * involutePoints1[0] ,\n\t\t\t"mid" : 1 * vector(baseCircleDiameter / 2, 0 * meter ),\n\t\t\t"end" : 1 * involutePoints2[0]\n\t});\n\n\tskSolve(Involute1);\n\t//##### Begining Calculations for Involute points for gear teeth sketch on offset Plane for loft operation. \n\tvar tempInvoluteSet2 = [];\n\tvar involutePts1 = [];\n\tvar involutePts2 = [];\n\t\n\tinvoluteIntersectionRadius = baseCircleDiameter2 / 2;\n\tinvoluteSize = (outsideDiameter2 / 2) - (baseCircleDiameter2 / 2);        \n\tplaneOffset = zOffset;       \n\n\tfor (var t = 0; t < involutePointCount; t += 1)\n\t{    \n\t\tinvoluteIntersectionRadius = (baseCircleDiameter2 / 2.0) + ((involuteSize / (involutePointCount - 1)) * t);\n\t\tvar newPt = involutePoint(context, baseCircleDiameter2 / 2, involuteIntersectionRadius, planeOffset);\n\t\ttempInvoluteSet2 = append(tempInvoluteSet2, newPt);\n\t}\n\t// Determine the angle between the X axis and a line between the origin of the curve and the intersection point between the involute and the pitch diameter circle.\n\n\tpitchInvolutePt = involutePoint(context, baseCircleDiameter2 / 2, pitchDiameter2 / 2, planeOffset);\n\tdebug(context, pitchInvolutePt);\n\tpitchPointAngle = atan(pitchInvolutePt[1] / pitchInvolutePt[0]) * 180 /(PI * radian);\n\n\t// Determine the angle defined by the tooth thickness as measured at the pitch diameter circle.\n\n\t//Angle to rotate the curve\n\trotateAngle = (-1) * (toothThicknessAngle / 2 + pitchPointAngle);//-backlashAngle\n\t// Rotate the involute so the intersection point lies on the x axis.\n\tcosAngle = cos(rotateAngle * degree);\n\tsinAngle = sin(rotateAngle * degree);\n\n\tfor (var pt in tempInvoluteSet2)\n\t{\n\t\tpt[0] = pt[0] * cosAngle - pt[1] * sinAngle;\n\t\tpt[1] = pt[0] * sinAngle + pt[1] * cosAngle;\n\t\tinvolutePts1 = append(involutePts1, vector( pt[0], pt[1] ) * meter);\n\t// Create a new set of points with a negated y.  This effectively mirrors the original points about the X axis. \n\t\tvar negatedPt = vector(pt[0], (-1) * pt[1] );\n\t\tinvolutePts2 = append(involutePts2, negatedPt * meter);\n\t}\n\t// Create sketch for Teeth Profile for offset plane\n\tvar Involute2 = newSketch(context, id + "Involute2", {\n\t\t"sketchPlane" : qCreatedBy((id + "plane1"), EntityType.FACE)\n\t});\n\n\tskFitSpline(Involute2, "spline1", {\n\t\t\t"points" : involutePts1\n\t});\n\t\n\tskFitSpline(Involute2, "spline2", {\n\t\t\t"points" : involutePts2\n\t});\n\t\n\tskArc(Involute2, "gearTop", {\n\t\t\t"start" : 1 * involutePts1[involutePointCount - 1] ,\n\t\t\t"mid" : 1 * vector(outsideDiameter2 / 2, 0 * meter ),\n\t\t\t"end" : 1 * involutePts2[involutePointCount - 1]\n\t});\n\t\t\t\n\tskArc(Involute2, "gearBase", {\n\t\t\t"start" : 1 * involutePts1[0] ,\n\t\t\t"mid" : 1 * vector(baseCircleDiameter2 / 2, 0 * meter ),\n\t\t\t"end" : 1 * involutePts2[0]\n\t});\n\n\tskSolve(Involute2);\n\n\t// Loft Operation for Teeth Profile\n\topLoft(context, id + "loft2", {\n\t\t\t"profileSubqueries" : [ qCreatedBy(id + "Involute1", EntityType.FACE), qCreatedBy(id + "Involute2", EntityType.FACE) ],\n\t});\n\t\n\topFitSpline(context, id + "Axis", {\n\t\t\t"points" : [vector( 0,  0,  0) * inch, vector(0,  -1, 0) * inch] });\n\tconst axis = qCreatedBy(id + "Axis", EntityType.EDGE);\n\n\t// Circular patteren operation for creating all the terth profile bodies around base.\n\tcircularPattern(context, id + "gearTeeths", {\n\t\t\t"patternType" : PatternType.PART,\n\t\t\t"entities" : qCreatedBy(id + "loft2", EntityType.BODY),\n\t\t\t"axis" : axis,\n\t\t\t"angle" : 360 * degree,\n\t\t\t"instanceCount" : definition.gearTeeths,\n\t\t\t"equalSpace" : true\n\t});\n\t\n});\n\n//Function to calculate dedendum value.\nexport function calculateDedendum(context, diametralPitch)returns number\n{\n\tif(diametralPitch  < ((20 * (PI / 180)) - 0.000001))\n\t{\n\t\treturn (1.157 / diametralPitch);\n\t}\n\telse\n\t{\n\t\tvar circularPitch = PI / diametralPitch;\n\t\tif(circularPitch >= 20)\n\t\t{\n\t\t\treturn (1.25 / diametralPitch);\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn (1.2 / diametralPitch);\n\t\t}\n\t}\n}\n\nconst PRESSURE_ANGLE_BOUNDS =\n{\n\t(degree) : [14.5, 20, 25]\n} as AngleBoundSpec;\n\nexport enum stdPressAngles\n{\n\tannotation { "NAME" : "14.5 degree" }\n\tPressAngle_14_5 ,\n\tannotation { "NAME" : "20 degree" }\n\tPressAngle_20,\n\tannotation { "NAME" : "25 degree" }\n\tPressAngle_25\n}\n\nexport enum PressureAngleType\n{\n\tannotation { "Name" : "Standard Pressure Angle(Recomended)" }\n\tstandardPressAngle,\n\tannotation { "Name" : "Custom Pressure Angle" }\n\tcustomPressAngle\n}\n\n// Function to calculate Involute Point coordinates / vectors\nexport function involutePoint(context, baseCircleRadius, involuteIntersectionRadius, planeOffset)returns Vector\n{\n\tvar l = sqrt(involuteIntersectionRadius ^ 2 - baseCircleRadius ^ 2 );\n\n\tvar alpha = (l / baseCircleRadius);\n\talpha = alpha * 180 / PI;\n\n\tvar thta = alpha - (180 / PI) * (acos(baseCircleRadius / involuteIntersectionRadius)) / radian;\n\n\tvar x = involuteIntersectionRadius * cos(thta * degree) / meter;\n\tvar y = involuteIntersectionRadius * sin(thta * degree) / meter;\n\n\treturn vector(x,y);\n} \n', 'tags': '', 'url': 'Bevel Gears.html'}, {'title': 'Control', 'text': 'Modeling and Control systems design \n Modeling: \n Bond Graph Methodology  (校園網路下載電子書) \n 2020_Foundations Of Multi-Paradigm Modelling for Cyber-Physical systems.pdf \n https://github.com/mdecourse/BondGraphTools \n Automatic Control: \n Introduction to Feedback control.pdf  ( source ,  lab ) \n 2010_GRADIENT-BASED REINFORCEMENT LEARNING TECHNIQUES FOR UNDERWATER ROBOTICS BEHAVIOR LEARNING.pdf \n 2015_Backstepping Controllers for a Cart-Pole System in Two Configurations.pdf \n https://towardsdatascience.com/comparing-optimal-control-and-reinforcement-learning-using-the-cart-pole-swing-up-openai-gym-772636bc48f4 \n 2016_MODELING, SIMULATION AND REAL-TIME CONTROL OF UNDERACTUATED SYSTEMS- A CART-PENDULUM EXAMPLE.pdf \n 2021_irtual Reinforcement Learning for Balancing an Inverted Pendulum in Real Time.pdf \n', 'tags': '', 'url': 'Control.html'}, {'title': 'AI and CAD', 'text': 'Reinforcement Learning (強化學習): \n https://www.davidsilver.uk/teaching/ \n https://neptune.ai/blog/reinforcement-learning-applications \n 強化學習的實務應用: \n 自駕車,  工業自動化  (高效節能), 金融貿易 (前景預測), 自然語言處理 (翻譯, 會議摘要, 自動答詢), 醫療保健 (自動診斷),  工程應用  (最佳化設計與製造),  機電設備自動控制 . \n https://wiki.pathmind.com/deep-reinforcement-learning \n 深度強化學習應用領域: \n Robotics , Industrial Operations, Supply Chain & Logistics, Traffic Control, Bidding & Advertising, Recommender Systems, Load Balancing, Augmented NLP. \n https://www.amazon.science/latest-news/3-ways-reinforcement-learning-is-changing-the-world-around-you \n 強化學習帶來的三大變革: \n 新聞推介系統, 高效能源配置,  機器人領域 . \n Optimize Robots Physical Design byParameterization in Deep Reinforcement Learning.pdf \n When designing robots, it is a common practice to  decide some mechanical pa- rameters prior to carrying out any detailed design . However, it is often difficult to find the optimal values for those parameters. In most of reinforcement learning tasks, the agent is learning a control policy in a fixed environment. This project aims to enable the agent to modify some environment parameters related to its physical configuration, i.e.  the agent is able to evolve to a better version that is more suitable for a certain task . We proposed methods to argument the reward function to influence the direction of evolution according to our preference. We discovered how the joint learning of policy and optimal physical configuration will impact the learning efficiency. We also found some interesting relationship between the learning of control policy and the evolution of the physical configuration. \n Q Learning: \n https://cedar.buffalo.edu/~srihari/CSE574/Chap15/15.3-Q-Learning.pdf \n https://medium.com/pyladies-taiwan/reinforcement-learning-%E9%80%B2%E9%9A%8E%E7%AF%87-deep-q-learning-26b10935a745 \n Artificial Intelligence: \n https://www.goodfirms.co/blog/importance-artificial-intelligence-computer-aided-design \n AI 在電腦輔助設計領域的重要性: \n Traditional CAD software solutions are  parametric , which  demands extensive planning . This process is time-consuming as a single property can change the whole design, and eventually, it can slow down the work-flow. CAD today covers several engineering functions ranging from simple drawings to 3D models. With the incorporation of AI, the process of designing becomes a bit easier with AI taking the lead to  integrate the manufacturing aspects or the engineering aspects ,  predict and perform the tasks with its own intelligence . This suits all types of design, whether it is a new design, or an innovative design, or a routine design. \n AI is capable of storing knowledge, and this knowledge-based information, when incorporated with CAD/CAM procedure,  automates several functions . The AI algorithm can itself  make the required changes in the design  without the intervention of the humans. The testing and simulations process can be completed with the help AI, which majorly  cuts down the design time . The implementation of CAD with AI technology is capable of  delivering ergonomic engineering . \n https://www.digitalengineering247.com/article/deep-learning-meets-3d-modeling/engineering-resource-center \n The application of machine learning, also known as deep learning, to computer-aided design (CAD) is gradually becoming commonplace.\xa0 Almost all mainstream CAD programs—Autodesk Fusion and SOLIDWORKS, to name but two—include some form of generative design (衍生式設計) or topology optimization (拓撲最佳化) tools. This allows the software to employ AI-like algorithms to  identify the best shapes  for the designer’s stated purpose, whether to  reduce weight  or to  counterbalance the anticipated stress  (usually it’s a combination of both). 即達成少負擔 (less burden), 多建樹 (more achievements) 的設計目標. \n https://www.autodesk.com/autodesk-university/content/future-design-powered-ai-mike-haley-2019 \n \n 電腦輔助設計練習題: \n 在 網際 Python 程式環境 中, 以下程式採用直覺邏輯執行 貪食蛇遊戲 , 從已知經驗最高紀錄得分為 45 分, 請問: 可以採用人工執行或機器學習方法, 找出在此一遊戲環境中所能取得的最高極限得分嗎? \n 可以結合  Brython  當前端, 透過 AJAX 與後端  Flask  ( Python ) + Rust 執行此一貪食蛇強化學習訓練嗎? \n 參考資料: \n https://github.com/mdecourse/Snake-Reinforcement-Learning \n Q-Learning Algorithm \xa0 \n Path_finding_q_learning.py \n Autonomous Agents in Snake Game via Deep Reinforcement Learning.pdf \n https://courses.grainger.illinois.edu/cs440/fa2020/MPs/mp7/assignment7.html \n 2016_ Exploration of Reinforcement Learning to SNAKE .pdf \n Train a snake with reinforcement learning algorithms.pdf \n https://github.com/python-engineer/snake-ai-pytorch \n Deep Reinforcement Learning for Snake.pdf \n 2019_Implementation of artificial intelligence in Snake game using genetic algorithm and neural networks.pdf \n 2020_Battlesnake Challenge- A Multi-agent Reinforcement Learning Playground with Human-in-the-loop.pdf \n https://davideliu.com/2020/01/24/teaching-ai-to-play-snake-with-reinforcement-learning/ \n https://github.com/mdecourse/Snake-Battle-Royale \n https://towardsdatascience.com/snake-played-by-a-deep-reinforcement-learning-agent-53f2c4331d36 \n https://towardsdatascience.com/how-to-teach-an-ai-to-play-games-deep-reinforcement-learning-28f9b920440a \n https://www3.hs-albsig.de/wordpress/point2pointmotion/2020/10/09/deep-reinforcement-learning-with-the-snake-game/ \n https://medium.com/@hugo.sjoberg88/using-reinforcement-learning-and-q-learning-to-play-snake-28423dd49e9b \n https://www.youtube.com/watch?v=PJl4iabBEz0  (part1) \n https://www.youtube.com/watch?v=5Vy5Dxu7vDs  (part2) \n https://www.youtube.com/watch?v=6pJBPPrDO40  (part3) \n https://www.youtube.com/watch?v=VGkcmBaeAGM  (part4) \n https://www.youtube.com/watch?v=yp826Ybh4rU \n In Rust: \n https://github.com/SLMT/rust-snake \n https://github.com/prajwaldp/rust-snake-game \n https://github.com/RodionChachura/rust-js-snake-game \n https://github.com/leocavalcante/rust-snake \n https://github.com/tensor-programming/snake-tutorial \n https://github.com/AlexRiosJ/rust_snake \n \n Brython  snake eater game: \n # 從 browser 導入 document 並設為 doc\nfrom browser import document as doc\n# 使用者可以透過 window 當作介面使用其他 Javascript 功能\nfrom browser import html, window\n# 用於定時執行特定函式\nimport browser.timer\n# 導入數學模組\nimport math\n# 導入亂數模組\nfrom random import random, randint\n \ndef update_score(new_score):\n    global high_score\n    score_doc.innerHTML = "Score: " + str(new_score)\n    if new_score > high_score:\n        high_score_doc.innerHTML = "High Score: " + str(new_score)\n        high_score = new_score\n        \ndef eat(px, py, ax, ay):\n    global xv, yv, pre_pause, paused\n    # (px, py) go to (ax, ay) through incremented xv, yv\n    if ax != px or ay != py:\n        if ax > px and not paused:\n            xv = 1\n            yv = 0\n        if ax < px and not paused:\n            xv = -1\n            yv = 0\n        if ay > py and not paused:\n            xv = 0\n            yv = 1\n        if ay < py and not paused:\n            xv = 0\n            yv = -1\n\ndef game():\n    global px, py, tc, gs, ax, ay, trail, tail, score\n    # px 為 snake 第一個點的 x 座標, 增量值為 xv\n    px += xv\n    py += yv\n    # 允許穿越四面牆, 以 tc 表示牆面座標極限\n    # 若 px 為負值則設定為 tc -1, 表示 tc 為 x 方向 limit\n    # x 座標方向的穿牆設定\n    if px < 0:\n        px = tc-1\n    if px > tc-1:\n        px = 0\n    # y 座標方向的穿牆設定\n    if py < 0:\n        py = tc-1\n    if py > tc-1:\n        py = 0\n    ctx.fillStyle = "black"\n    # 畫布填入黑色\n    ctx.fillRect(0, 0, canvas.width, canvas.height)\n    # snake 為 lime 色\n    ctx.fillStyle = "lime"\n    # trail 為數列, 代表 snake 各節 [x,y] 座標\n    # trail = [[x0,y0], [x1, y1], [x2, y2]...]\n    # gs 為方塊邊長 pixel 數\n    for i in range(len(trail)):\n        # https://developer.mozilla.org/zh-TW/docs/Web/API/Canvas_API/Tutorial/Drawing_shapes\n        # fillRect(x, y, width, height)\n        ctx.fillRect(trail[i][0]*gs, trail[i][1]*gs, gs-2, gs-2)\n        # 若 snake 第一節座標 (px, py)  穿過身體任一節, 則 score 歸零\n        if trail[i][0] == px and trail[i][1] == py:\n            score = score if paused else 0\n            # snake reset 為五節\n            tail = 5\n    # trail 數列以碰到的 [px, py] 座標數列插入作為第一節\n    trail.insert(0, [px, py])\n    while len(trail) > tail:\n        # pop() 內建移除數列最後一個 element\n        trail.pop()\n    # ax, ay 為紅點座標\n    # 當 snake 第一節座標[px, py] 與紅色食物座標 [ax, ay] 重合\n    # 則 tail 增量, 即多一節且得分加 1, 然後食物座標 [ax, ay] 重新以亂數定位\n    if ax == px and ay == py:\n        tail += 1\n        ax = math.floor(random()*tc)\n        ay = math.floor(random()*tc)\n        score += 1\n    # [ax, ay] is known here\n    # [px, py] is where the head of the snake\n    # xv needed to be incremented from px to ax first\n    # and yv needed to be incremented from py to ay\n    eat(px, py, ax, ay)\n    # 更新計分顯示\n    update_score(score)\n    ctx.fillStyle = "red"\n    ctx.fillRect(ax*gs, ay*gs, gs-2, gs-2)\n   \ndef key_push(evt):\n    global xv, yv, pre_pause, paused\n    key = evt.keyCode\n    # 37 is left arrow key\n    # 74 is j key\n    if key == 74 and not paused:\n        xv = -1\n        yv = 0\n    # 38 is up arrow key\n    # 73 is i key\n    elif key == 73 and not paused:\n        xv = 0\n        yv = -1\n    # 39 is right arrow key\n    # 76 is l key\n    elif key == 76 and not paused:\n        xv = 1\n        yv = 0\n    # 40 is down arrow key\n    # 77 is m key\n    elif key == 77 and not paused:\n        xv = 0\n        yv = 1\n    # 32 is pause key\n    # 80 is p key\n    elif key == 80:\n        temp = [xv, yv]\n        xv = pre_pause[0]\n        yv = pre_pause[1]\n        pre_pause = [*temp]\n        paused = not paused\n   \ndef show_instructions(evt):\n        window.alert("keys to control: i=up, m=down, j=left, l=right, p=pause")\n       \n# 利用 html 建立 canvas 超文件物件\ncanvas = html.CANVAS(width = 600, height = 600)\ncanvas.id = "game-board"\nbrython_div = doc["brython_div"]\nbrython_div <= canvas\n   \nscore_doc = html.DIV("score")\nscore_doc.id = "score"\nbrython_div <= score_doc\n   \nhigh_score_doc = html.DIV("high-score")\nhigh_score_doc.id = "high-score"\nbrython_div <= high_score_doc\n   \nbutton = html.BUTTON("Keys to control")\nbutton.id = "instructions-btn"\nbrython_div <= button\n   \nscore = 0\nhigh_score = 0\n   \npx = py = 10\n# gs*tc = canvas width and height\ngs = 20\ntc = 30\nax = ay = 15\nxv = yv = 0\ntrail = []\ntail = 5\n   \npre_pause = [0,0]\npaused = False\nctx = canvas.getContext("2d")\ndoc.addEventListener("keydown", key_push)\ninstructions_btn = doc["instructions-btn"]\ninstructions_btn.addEventListener("click", show_instructions)\nbrowser.timer.set_interval(game, 1000/15) \n \n  導入 brython  \n \n \n \n \n \n  啟動 brython  \n \n \n \n  brython webgl div  \n \n \n  執行貪食蛇遊戲  \n \n \n \n', 'tags': '', 'url': 'AI and CAD.html'}, {'title': 'SSO', 'text': "https://en.wikipedia.org/wiki/Single_sign-on \n Oauth2 \n 本頁面相關內容的討論, 最終催生出: \n https://github.com/mdecourse/fossiloauth \n Flask 與 Fossil SCM\xa0 在同一台主機, 可以透過 Oauth2 登入後, 由 Python 程式導引 redirect 登入 Fossil SCM 主機. 其中可以讓 Python 讀取使用者在 Fossil SCM 倉儲中當下所設定的帳號密碼後登入. \n from flask import Flask\nfrom flask import make_response, request, redirect\nimport requests\n\napp = Flask(__name__)\napp.config['SECRET_KEY'] = 'SUPER SECRET'\n\n@app.route('/')\ndef hello_world():\n    with requests.Session() as s:\n        url = 'https://fossil.kmol.info/u/yen/login'\n        post_var = {'u': 'username', 'p': 'password'}\n        headers = {'X-Requested-With': 'XMLHttpRequest'}\n        result = s.post(url, data = post_var, headers = headers)\n        cookie = s.cookies.get_dict()\n        key = list(cookie.keys())[0]\n        value = cookie[key]\n        '''\n        print(key, value)\n        resp = redirect(url)\n        resp.set_cookie(key, value)\n        return resp\n        '''\n        response = make_response(redirect(url))\n        response.set_cookie(key, value)\n        return response\n        \n\nif __name__ == '__main__':\n    app.run() \n 接下來的考量是, 能否不讓使用者直接從 Fossil SCM web 介面中登入? \n", 'tags': '', 'url': 'SSO.html'}, {'title': 'Fossil', 'text': '結合 Fossil SCM 與 Flask Oauth2: \n https://github.com/mdecourse/fossiloauth \n Cookie Tutorial: \n https://www.valentinog.com/blog/cookies/ \n 採用 Flask Oauth2 介面登入後, 取得使用者 Gmail 帳號名稱 (具有唯一性) 後, 利用此一帳號查詢 Fossil SCM 中是否已經建立此一用戶,\xa0 若是, 則以亂數 (使用者無法得知, 因此無法直接從 Fossil SCM 倉儲網際介面中登入) 變更帳號對應密碼, 若尚無帳號, 則新建帳號並以亂數設定密碼. 使用者透過 Cookie 登入同硬體的 Fossil SCM 主機後, 程式必須自動替使用者登出 Flask 網際介面, 因此當使用者進入 Fossil SCM, 前面已經分別由程式登出 Gmail 與 Flask 網際帳號. \n @app.route(\'/forum\')\n# at the end of forum must logout from 8443\n@login_required\ndef forum():\n    """Create forum routine"""\n    username, userpass = repo()\n\n    with requests.Session() as s:\n        url = \'https://fossil.kmol.info/u/yen/login\'\n        post_var = {\'u\': username, \'p\': userpass}\n        headers = {\'X-Requested-With\': \'XMLHttpRequest\'}\n        result = s.post(url, data = post_var, headers = headers)\n        cookie = s.cookies.get_dict()\n        key = list(cookie.keys())[0]\n        value = cookie[key]\n\n        forum = "https://fossil.kmol.info/u/yen/forum"\n        response = make_response(redirect(forum))\n        response.set_cookie(key, value)\n        # logout from 8443\n        logout()\n        return response \n Rererences: \n https://fossil-scm.org/forum/forumpost/59c6552555  (Fossil SCM with json) \n Why Fossil-SCM is an excellent choice for introductory programming courses  \n https://www.sqlite.org/index.html \n https://medium.com/@nerdijoe/how-to-deploy-flask-on-iis-with-windows-authentication-733839d657b7 \n https://atrium.ai/resources/how-to-implement-oauth-2-0-login-for-python-flask-web-server-applications/ \n Fossil SCM: \n https://fossil-scm.org/home/doc/trunk/www/json-api/api-auth.md \n Why using Fossil SCM:  https://andreiclinciu.net/why-im-using-fossil-scm-instead-of-other-source-control-systems \n 以 SQL 查詢資料庫中資料表欄位: \n fossil sql -R repo-name.fossil .schema user CREATE TABLE repository.user( \xa0 uid INTEGER PRIMARY KEY, \xa0 login TEXT UNIQUE, \xa0 pw TEXT, \xa0 cap TEXT, \xa0 cookie TEXT, \xa0 ipaddr TEXT, \xa0 cexpire DATETIME, \xa0 info TEXT, \xa0 mtime DATE, \xa0 photo BLOB ); \n 主題一: \n 建立 Fossil SCM 倉儲 \n 修改使用者密碼: fossil user password user_name user_password -R repo.fossil \n Python 與 SQLite \n CMSiMDE 與 SQLite - 也許可以試著將 content.htm 或靜態網頁內容存入 SQLite 資料表中. \n 利用 Python 讀取 Fossil SCM 資料庫內容: \n https://github.com/mdecourse/fossilpy \n 利用 Python 與 delta 原理進行版次管理: \n https://github.com/ggicci/python-fossil-delta \n', 'tags': '', 'url': 'Fossil.html'}, {'title': 'Compile Fossil', 'text': '自行編譯  Fossil SCM  的目的為 ____? \n Fossil SCM  提供  CGI Extensions  功能的目的為何?  CGI ,  WSGI ,  UWSGI  則又是什麼? \n Fossil SCM  有什麼功能, 在機械設計相關的電腦輔助設計實習流程中, 能夠扮演 ____, ____, ____, ____ 角色? \n Git  之於  Linux kernel ,  Fossil SCM  之於  SQLite , 分別代表什麼意義? \n 需要自行編譯  SQLite  原始碼嗎?  SQLite  與  Fossil SCM  的原始碼與機電資整合軟硬體產品, 可能有任何關係嗎? \n SQLite and JSON: \n https://stackoverflow.com/questions/8652005/json-file-vs-sqlite-android \n https://stackoverflow.com/questions/22789079/json-vs-sqlite-which-is-more-suitable-for-android-ios-development \n https://www.reddit.com/r/roguelikedev/comments/j5ljzd/game_data_storage_json_sql/ \n https://www.nicholasnadeau.com/post/2020/11/python-for-hardware-engineers-sqlite-or-how-i-learned-to-stop-worrying-and-love-databases/ \n https://www.nicholasnadeau.com/post/2020/10/new-series-python-for-hardware-engineering/ \n https://learnsql.com/blog/most-popular-sql-databases-2020/ \n https://towardsdatascience.com/top-10-databases-to-use-in-2021-d7e6a85402ba \n 2017_Research and Improvement of SQLite’s Concurrency Control Mechanism.pdf \n 2018 RMAS: Relational Multiagent System for CPS Prototyping and Programming  (必須在校園網路下載) \n 2019_Methods of a Heterogeneous Multi-agent Robotic System Group Control.pdf \n 2020_Design And Development Of An Application For Database MaintenanceIn Inventory Management System Using Tkinter And Sqlite Platform.pdf \n \n 一般將 Ubuntu 中的 fossil 設為 server, 配合 Stunnel 建立 https 介面, 而 Windows 中的 fossil.exe 則作為 client, 兩者可以透過 fossil version 查詢版次, 必須注意 server 與 client 的 Fossil SCM 版次是否相應, 以免無法使用新版本 Fossil SCM 可能新增的功能. \n Ubuntu 操作系統: \n 下載 Fossil SCM 最新版本原始碼: \n 點選  Timeline , 選擇最新版號對應的連結, 例如:  Fossil SCM 2.16 版 . 點選  ZIP archive  下載後解開原始碼壓縮檔案. \n 由於操作系統為 Ubuntu, 根據 說明 , 可以利用 sudo apt install libssl-dev 安裝所需的 OpenSSL 程式庫開發檔案. \n 利用 xterm 命令列進入 Fossil SCM 原始碼所在目錄後, 執行 ./configure 後, 再執行 make 就可以建立 fossil 可執行檔案. 只不過檔案大小約 17 MB, 若利用 ./configure --static 所建立的 fossil 則將近 22 MB. \n Windows 64 位元操作系統: \n 以下將採用  MSYS2  執行編譯. \n 從  Gnuwin32 coreutils  取得視窗環境下執行的 cat 與 grep. \n 下載 Fossil SCM 最新版原始碼與上列 Ubuntu 相同. \n 由於採用  MSYS2 , 因此必須在 mingw64.exe 啟動後的介面, 以 pacman -S openssl-devel 安裝所需的 OpenSSL 程式庫開發檔案, 其中包括 libssl.a 與 libcrypto.a 等兩個靜態程式庫. \n make.exe 檔案複製: \n 由於已經將 Y:\\msys64_20210419\\mingw64\\bin\\mingw32-make.exe 複製一份為 make.exe, 因此之後可以直接以 make 命令執行. \n windres.exe 檔案複製: \n 另外必須要將 Y:\\msys64_20210419\\mingw64\\bin\\windres.exe 複製一份為 x86_64-w64-mingw32-windres.exe, 因為 win/Makefile.mingw 中會採用: \n RCC = $(PREFIX)windres -I$(SRCDIR) \n 轉換 Windows 原始碼中的 Resource files, 而 PREFIX 變數在下列將設定為 x86_64-w64-mingw32-. \n 先編譯 compat/zlib: \n cd compat/zlib mingw32-make -f win32/Makefile.gcc \n Makefile.mingw 設定： \n MSYS2  所使用的 Makefile 位於 Fossil SCM 原始碼目錄中的 win/Makefile.mingw 檔案, 以 SciTE 編輯此一檔案時, 將第 22 行改為: \n PREFIX = x86_64-w64-mingw32- \n 表示編譯完成的 fossil.exe 要在 x86_64-w64-mingw32 平台上執行. \n 第 63 行改為: \n FOSSIL_ENABLE_SSL = 1 \n 表示編譯後的 fossil.exe 要能夠在 https 網路協定中使用. \n OpenSSL 靜態程式庫檔案: \n 將 pacman -S openssl-devel 安裝後, 在Y:\\msys64_20210419\\mingw64\\lib 目錄中的 libssl.a 與 libcrypto.a 檔案放入 Fossil SCM 原始碼目錄中. \n 執行編譯與連結: \n make -f win/Makefile.mingw LIB="-l:libssl.a -l:libcrypto.a -lgdi32 -lmingwex -lz -lws2_32 -municode" \n 此處採直接連結 libssl.a 與 libcrypto.a 的方式進行編譯, 完成後的 fossil.exe, 檔案大小約 8MB. \n', 'tags': '', 'url': 'Compile Fossil.html'}, {'title': 'Althttpd', 'text': 'Althttpd is a simple webserver that has run the https://sqlite.org/ website since 2004. Althttpd strives for simplicity, security, and low resource usage. \n https://sqlite.org/althttpd/doc/trunk/althttpd.md \n \n', 'tags': '', 'url': 'Althttpd.html'}, {'title': 'Robotics', 'text': 'Robotics  (校園網路下載電子書) \n solving Symbolic Inverse Kinematics with Behavior Tree.pdf \n Q Learning for Robot Control.pdf \n Reinforcement Learning in Robotics: A Survey \n Deep Reinforcement Learning for the Control of Robotic Manipulation- A Focussed Mini-Review.pdf \n \n Related Courses: \n http://ais.informatik.uni-freiburg.de/teaching/ss21/robotics/ \n http://ais.informatik.uni-freiburg.de/teaching/ws20/mapping/ \n https://github.com/mithi/robotics-coursework  ( steps ) \n Related Ebooks: \n Principles of Physics \xa0(在校園網路下載電子書) \n Applied Linear Algebra  (在校園網路下載電子書) \n Fundamentals of Robotic Mechanical Systems  (在校園網路下載電子書) \n Robotics, Vision and Control  (在校園網路下載電子書) \n Springer Handbook of Robotics  (在校園網路下載電子書) \n Robotics  (在校園網路下載電子書) \n Robotics  (在校園網路下載電子書)) \n Automotive Cyber Security  (在校園網路下載電子書) \n Fundamentals of Mechanicsof Robotic Manipulation  (在校園網路下載電子書) \n Robot Operating System \xa0(在校園網路下載電子書) \n https://www.nicholasnadeau.com/publication/nadeau-2019-pybotics/ \n CoppeliaSim: \n https://github.com/mdecourse/Obstacle-Avoidance-Using-A-Genetic-Algorithm \n https://github.com/mdecourse/PID_wall_following \n https://github.com/mdecourse/Painting-robot-simulation-in-V-rep \n IK \n 單軸, 雙軸, 多軸以及 Symbolic + Numerical Constraint Solver: \n 利用 CoppeliaSim GUI 流程設置求解 IK, 全部利用 API 程式流程設置求解 IK, 利用自行推導的數學式求解 IK, 終至利用自行設計編寫的通用 Symbolic + Numerical Constraint Solver 求解 IK. \n https://wiki.blender.org/wiki/Source/Animation/IK \n Building-a-Better-IK-Solver.pdf \n https://github.com/mdecourse/Mobile-Manipulation \n BlueZero remote API: \n https://github.com/mdecourse/Robotics-Research \n 其他: \n https://github.com/craigiedon/ProbRobScene \n ProbRobScene - A Probabilistic Specification Languagefor 3D Robotic Manipulation Environments \n https://github.com/mdecourse/coppelia_gui_robot_control_python \n', 'tags': '', 'url': 'Robotics.html'}, {'title': 'FMS', 'text': '在  CoppeliaSim  場景中, 從手動組裝自動化生產設備 ( Industrial Robot ,  Conveyor ,  AGVS  與  AS/RS  設施等), 終至完成一套  Flexible Manufacturing System  (彈性製造系統). \n Design of Flexible Production Systems  (在校園網路下載電子書） \n Robot 機械手臂模型 \n Import Robot from Solidworks into Coppeliasim:  https://www.youtube.com/watch?v=jfUA2W-niIc \n URDF:  https://wiki.ros.org/urdf \n https://github.com/mmatl/urdfpy \n kuka kr16 assembly URDF.rar \n reference videos \n https://www.coppeliarobotics.com/helpFiles/en/urdfPlugin.htm \n simExtURDF:  https://github.com/CoppeliaRobotics/simExtURDF \n CoppeliaSim Import and Export: \n https://www.coppeliarobotics.com/helpFiles/en/importExport.htm \n XML Editor: \n https://microsoft.github.io/XmlNotepad/ \n https://github.com/lbellonda/qxmledit \n', 'tags': '', 'url': 'FMS.html'}, {'title': 'EE', 'text': 'Electrical Engineering 電機工程 \n Practical Electrical Engineering  (校園網路下載電子書) \n Mechatronic Systems  (校園網路下載電子書) \n Mechanical systems generate certain motions or transfer forces or torques. For an oriented command of, e.g., displacements, velocities or forces, feedforward and feedback control systems have been applied for many years. The control systems operate either without auxiliary energy (e.g., fly ball governor), or with electrical, hydraulic or pneumatic auxiliary energy, to manipulate the commanded variables directly or with a power amplifier. \n A realization with added fixed wired (analog) devices turns out to enable only relatively simple and limited control functions. If these analog devices are replaced with digital computers in the form of, e.g., on-line coupled microcomputers, the information processing can be designed to be considerably more flexible and more comprehensive. \n This development, beginning with the purely mechanical systems of the nineteenth century to mechatronic systems in the 1980s. The first digitally controlled machines were, e.g., machine tools, where already in around 1973 fixed wired sequential control devices based on transistors were being replaced by digital storage programmable control systems. This was paralleled by the introduction of digital control systems for, e.g., electrical drives, industrial robots and steam turbines and for automotive parts. About 10 years later, the first mechanical systems with integrated sensors, actuators and microcontrollers appeared, e.g., as anti-lock braking systems (ABS) for vehicles or magnetic bearings and in the form of precision electro-mechanical devices as cameras, video recorders, printers and disk storage, thus forming the first mechatronic systems. \n', 'tags': '', 'url': 'EE.html'}, {'title': 'RL', 'text': 'Fundamentals of Artificial Intelligence  (校園網路下載電子書) \n Gym: \n Gym is a toolkit for developing and comparing reinforcement learning algorithms. \n https://towardsdatascience.com/reinforcement-learning-with-openai-d445c2c687d2 \n https://gym.openai.com/docs/ \n https://github.com/openai/gym \n Adaptation of Openai Gym for Moveo Platform.pdf \n Sim-Env- Decoupling OpenAI GymEnvironments from Simulation Models.pdf \n https://ctmakro.github.io/site/on_learning/rl/vrep.html \n Reinforcement Learning: \n https://datawhalechina.github.io/easy-rl/  (中文教程) \n https://github.com/datawhalechina/easy-rl \n Applying Reinforcement Learning With Python  (校園網路下載電子書) \n Reinforcement Learning in some sense is a rebranding of  optimal control , which is a concept extending from control theory. Optimal control has its origins in the 1950s and 1960s, where it was used to describe a problem where one is trying to achieve a certain "optimal" criterion and what "control" law is needed to achieve this end. \n Typically, we define an optimal control as a set of differential equations. These equations then define a path toward values that minimize the value of the error function. The core of optimal control is the culmination of Richard Bellman’s work, specifically that of  dynamic programming . Developed in the 1950s, dynamic programming is an optimization method that emphasizes the solving of a large individual problem by breaking it down into smaller and easier-to-solve components. \n It is also considered the only feasible method of solving  stochastic optimal control problems  and moreover consider in general all of optimal control to be reinforcement learning. \n https://github.com/mdecourse/4072pj1 \n https://github.com/mdecourse/vrep-env \n', 'tags': '', 'url': 'RL.html'}, {'title': '系統開發', 'text': 'GCS \n Geometric Constrain Solver(GCS) 在解決 ____ 問題? \n https://www.cs.purdue.edu/homes/cmh/distribution/papers/Constraints/CAD95.pdf \n Geometric Constraint Solving and Applications ebook  (在校園網路下載電子書) \n Introduction to Machine Learning  (在校園網路下載電子書) \n The Finite Element Method and Applications in Engineering Using ANSYS  (在校園網路下載電子書) \n Computational Methods for Fluid Dynamics \n In Python: \n https://github.com/ericPrince/constraint-solver \n https://pypi.org/project/py-slvs/ \n https://pyslvs-ui.readthedocs.io/en/stable/python-solvespace-api/ \n non-geometric: \n https://stackabuse.com/constraint-programming-with-python-constraint \n https://www.cvxpy.org/ \n In C++: \n https://solvespace.com/tech.pl \n In Rust: \n https://adventures.michaelfbryan.com/posts/constraints-part-1-expressions/ \xa0 \n https://crates.io/crates/arcs \n CAD Kernel in Rust:  https://github.com/ricosjp/truck \n curves_and_surfaces_in_geometric_modeling_v2.pdf \n', 'tags': '', 'url': '系統開發.html'}, {'title': 'Optimization', 'text': 'Genetic Algorithms for Control and Signal Processing  (校園網路下載電子書) \n Introduction to Evolutionary Computing  (校園網路下載電子書) \n A FRAMEWORK FOR AUTOMATIC DIFFERENTIATION IN TOPOLOGY OPTIMIZATION \n https://github.com/UW-ERSL/AuTO \n', 'tags': '', 'url': 'Optimization.html'}, {'title': 'Meta', 'text': '你 Meta 了沒有?: \n https://en.wikipedia.org/wiki/Metaprogramming \n Metaprogramming is a programming technique in which computer programs have the ability to treat other programs as their data. It means that a program can be designed to read, generate, analyze or transform other programs, and even modify itself while running. \n Metaprogramming can be used to move computations from run-time to compile-time, to generate code using compile time computations, and to enable self-modifying code. The ability of a programming language to be its own metalanguage is called reflection. Reflection is a valuable language feature to facilitate metaprogramming. \n https://elixirschool.com/zh-hant/lessons/advanced/metaprogramming/ \n https://serokell.io/blog/elixir-metaprogramming \n', 'tags': '', 'url': 'Meta.html'}, {'title': 'Rust', 'text': 'Rust 線上編譯執行網站: \n https://play.rust-lang.org/ \n Rust 程式設計語言  (中文版) \n https://doc.rust-lang.org/stable/book/ \n About Rust Macro  (巨集) \n Ｗindows Rust 可攜系統: \n start_ipv6.bat 相關設定: \n REM for Rust\nset MINGW_PATH=%path_msys2%;\nset GIT_PATH=%path_git%;\nset VSCODE_PATH=%path_vscode%\nset RUSTUP_HOME=%Disk%:\\Rust\\rust\nset CARGO_HOME=%Disk%:\\Rust\\cargo\nset RUST_PATH=%CARGO_HOME%\\bin \n 參考資料: \n Rust and Assembly: \n https://rustwasm.github.io/docs/book/ \n https://stevedonovan.github.io/rust-gentle-intro/ \n https://github.com/yewstack/yew \n https://github.com/WebAssembly/wabt \xa0 (Web Assembley Binary Toolkit) \n Rust Programming Language.pdf \n https://www.ralfj.de/projects/rust-101/main.html \n https://doc.rust-lang.org/stable/rust-by-example/ \n https://thenewstack.io/using-web-assembly-written-in-rust-on-the-server-side/  (Deno, Rust, Typescript, Webassembly) \n https://github.com/reselbob/wisesayingswasm \n \n', 'tags': '', 'url': 'Rust.html'}, {'title': 'Elixir', 'text': 'Elixir 在解決 ____, ____, ____, ____等問題. \n A history of Erlang \n https://github.com/dwyl/learn-elixir \n https://inquisitivedeveloper.com/tag/lwm-elixir/ \n https://www.phoenixframework.org/ \n Elixir to Javascript: \n https://github.com/elixirscript/elixirscript \n Erlang VM in Rust: \n https://github.com/archseer/enigma \n Dart + Phoenix: \n https://pub.dev/packages/phoenix_socket \n https://pub.dev/packages/phoenix_wings \n https://github.com/approov/quickstart-flutter-elixir-phoenix-channels \n Erlang and Elixir portable.7z  for Windows \n Mac:  https://medium.com/@cseanc/setup-elixir-phoenix-on-your-mac-85c9e491fb1 \n https://ithelp.ithome.com.tw/articles/10192375  (函數式編程 Elixir 簡介) \n Can mechanical designer also take advantage of Elixir? \n https://phoenixframework.org/ \n Erlang and Elixir for Imperative Programmers  (ebook) \n \n \n \n \n \n https://www.kabisa.nl/tech/when-elixirs-performance-becomes-rust-y/ \n https://www.infoq.com/news/2019/07/rust-elixir-performance-at-scale/ \n Elixir and IOT: \n https://medium.com/@carlogilmar/learning-iot-first-steps-with-elixir-310c4ad4ab15 \n https://www.verypossible.com/insights/aws-iot-core-elixir-and-nerves-a-crash-course \n \n Elixir and reinforcement learning: \n https://github.com/doctorcorral/gyx \n https://medium.datadriveninvestor.com/elixir-e-reinforcement-learning-i-3ecd9399d03c \n https://www.erlang-solutions.com/blog/how-to-build-a-machine-learning-project-in-elixir/ \n https://elixirforum.com/search?q=machine%20learning \n \n', 'tags': '', 'url': 'Elixir.html'}, {'title': '可攜 Elixir', 'text': '採用 Elixir 希望解決 ____ 問題? \n https://elixir-lang.org/blog/2013/08/08/elixir-design-goals/ \n 在 Windows 環境中建立可攜 Erlang 與 Elixir 的方法, 是先在操作系統中安裝後, 將 Erlang 與 Elixir 目錄內容取出放入可攜系統 y:\\ 中的 elixir 目錄後, 在控制台中分別解除 Erlang 與 Elixir 的系統安裝, 然後必須要進入取出放入隨身碟或系統其他目錄後, 先修改: \n Y:\\elixir\\erl10.7\\bin 以及 Y:\\elixir\\erl10.7\\erts-10.7\\bin 目錄中的兩個 erl.ini: \n 將原先設定為操作系統安裝的路徑, 改為隨身可攜系統的對應路徑: \n [erlang] \nBindir=Y:\\\\elixir\\\\erl10.7\\\\erts-10.7\\\\bin \nProgname=erl \nRootdir=Y:\\\\elixir\\\\erl10.7\\\\ \n \n 至於在隨身系統啟動後, 開啟互動式 Elixir 的 batch file, elixir.bat 內容為: \n "y:\\elixir\\erl10.7\\bin\\werl.exe" -env ERL_LIBS "y:\\elixir\\Elixir\\lib" -user Elixir.IEx.CLI -extra --no-halt \n 而 erlang.bat 則為: \n echo off\ny:\\elixir\\erl10.7\\bin\\werl.exe \n 另外, 在啟動隨身系統的 start_ipv6.bat 中則加入: \n REM for Erlang and Elixir\nset path_erlang=%Disk%:\\elixir\\erl10.7\\bin\\;%Disk%:\\elixir\\erl10.7\\erts-10.7\\bin;%Disk%:\\elixir\\elixir\\bin\\;\nset ERTSPATH=%Disk%:\\elixir\\erl10.7\\erts-10.7\\bin\nset ERLINI=%Disk%:\\elixir\\erl10.7\\erts-10.7\\bin\\erl.ini \n 並將 %path_erlang% 納入隨後的 Path 環境變數中. \n 如此就可以在啟動隨身系統後, 以 elixir.bat 啟動 Elixir 互動環境, 而執行 erlang.bat 則啟動 Erlang\xa0 互動環境. \n 根據上述流程設定的 Elixir 可攜系統下載: \n Erlang 10.7 and Elixir portable.7z  for Windows (下載 62MB , 解開壓縮後 340MB) \n 基本操作:  https://inquisitivedeveloper.com/lwm-elixir-75/ \n', 'tags': '', 'url': '可攜 Elixir.html'}, {'title': '實習內容', 'text': '機械設計工程師在產品開發過程, 面臨什麼挑戰? 電腦輔助設計能幫上什麼忙? \n 挑戰一: 封閉且缺乏彈性的工具, 造成許多無法清楚說明原因的問題. \n 面對問題, 千萬不要說: 我不知道, 而是要回答: 這是我目前找到的解決方案. \n 挑戰二: 實體製造與虛擬設計之間的差異鴻溝, 經常由主導藍圖的機械設計師背起各種黑鍋. \n 清楚說明細節, 留下各種佐證資料, 學會安排動態整合系統, 讓電腦軟硬體協助釐清並解決問題. \n', 'tags': '', 'url': '實習內容.html'}, {'title': 'Stage1', 'text': '任務一: \n 請閱讀  About  頁面, 待會要每一橫排抽出一位同學, 上台來報告, 你看到什麼? 能不能給一個三分鐘的簡報? \n 1-1: 看完後, 請利用三分鐘的時間, 說明您看到什麼? \n 任務二: \n 請下載本學期的教科書, 總共有 187 頁, 都是英文資料, 請問: 為什麼身在台灣的機械設計工程師在校期間, 要儘量閱讀英文資料? \n 2-1: 請翻閱一下您所下載的教科書資料, 內容涵蓋哪些主題? \n 想像一: \n 假如 SolidWords 是"我們"這個團隊所開發的, 團隊成員在進行機電資整合產品開發時, 會有什麼不同嗎? \n 大家能夠想像 SolidWorks 的出現與博弈有關嗎? \n 想像二: \n 要具備什麼樣的知識與能力, 才能"開發"類似 SolidWorks 這樣的工具? \n 我們為什麼要想像"能夠"開發 CAD 工具, 而不僅是"使用"就好?', 'tags': '', 'url': 'Stage1.html'}, {'title': 'Task 1', 'text': "Computer-aided design \n Computer-aided design (CAD) uses the  mathematical  and  graphic processing power  of the computer to assist the engineer in the creation, modification, analysis, and display of designs. \n Many factors have contributed to CAD technology being a necessary tool in the engineering world for applications including shipbuilding, automotive, aerospace, medical, industrial, and architectural design, such as the computer's speed in processing complex equations and managing technical databases. \n 若從產品開發流程與團隊成員的角度而言, 電腦輔助設計的本質在運用電腦與周邊相關軟硬體, 以達到多人參與協同產品設計流程時, 針對每一個細節與項目, 都能夠少一點負擔 (less burden), 多一些建樹 (more achievements) 的目標, 期望在產品從概念至回收的生命週期 (life cycle) 中, 能以最少成本付出, 取得最大效益. \n Live streaming and on-line meeting \n Three-minute talking to describe your design intent. \n 課程設計目標 \n 藉由這個課程希望讓學員了解電腦輔助設計的發展源起, 當時建構工具與發展系統的時空背景, 超過五十年的快速發展至今, 機械設計工程師在採用電腦輔助設計流程與工具解決問題時, 應該如何掌握問題的關鍵核心, 探討最具價值的項目, 並以協同互助學習的方式, 面對未來發展趨勢, 各自找到值得長期努力且能有效自我期許的目標. \n About computer \n computer science is not a science (當時的科系名稱為 Electric Engineering and Computer Science). It's also not really very much about computers. And that is, when some field is just getting started and you don't really understand it very well, it's very easy to confuse the essence of what you're doing with the tools that you use. \n I think in the future people will look back and say, yes, those primitives in the 20th century were fiddling around with these gadgets called computers, but really what they were doing is starting to  learn how to  formalize   intuitions  about  process ,   how to do things, starting to develop a way to talk precisely about how-to knowledge. \n", 'tags': '', 'url': 'Task 1.html'}, {'title': 'Task 2', 'text': '這個學期的教科書前面五個章節取自 2019 年出版的  Robotics  第二版.作者群大多來自  https://www.uni-lj.si/university/  電機系. \n Ch1 Introduction Ch2 Homogenous Transformation Matrices Ch3 Geometric Description of the Robot Mechanism Ch4 Orientation Ch5 Two-Segment Robot Manipulator ( cd2021 W14-W15.html ) \n 接續前面有關 Robotics 相關數學運算之後的是 Ch7 Robot Sensors. \n 在 FMS 中各種 Robots 能夠有效進行製造加工, 組立與各種物件的搬運, 主要依賴精確的定位與快速的移動. 其中便牽涉到如何先了解不同 Robots 機構組成與控制方法後, 才能逐步設計出符合需求的系統元件. \n 我們在建立上述教科書的流程為: \n \n 從圖書館所購買的 ebooks 中挑選出 Robots 電子書, 下載 pdf 檔案至近端電腦 \n 以授權的 Gmail 帳號登入 cd2020 (2020 Fall) 所開發的  https://github.com/mdecourse/cd2020pj1 \n 將近端的 ebook pdf 上傳至遠端系統, 遠端系統會透過 GDrive API 將 pdf 備份存至指定帳號空間中 \n 利用 cd2020pj1 中的網際 pdf split 功能, 將 Ch1 - Ch5 與 Ch7 的檔案分別切出後, 存為兩個檔案. \n 接著重複相同流程取下 2008 年出版的  Theory and design of CNC systems  Ch1-Ch3 檔案. \n 最後利用 cd2020pj1 pdf 檔案 combine 功能, 將上述三個檔案結合為一個 pdf 檔案, 就是  cad2021_textbook.pdf  課程教材 \n \n https://github.com/mdecourse/cd2020pj1  網際程式開發目的, 是利用較為簡單的 pdf 檔案切割與合併功能, 展示機械設計工程師可以利用 Oauth2 協定, 讓參與協同設計的各成員利用既有的 Gmail 帳號登入 (也可以使用 Github, Gitlab, Bitbucket, Heroku 或其他符合 Oauth2 協定的任何系統帳號). 並在網際環境中以 Python 程式操控 server 上的 Solvespace, Solidworks, Inventor 與 NX 等 3D 參數式 CAD, 設法透過動態參數系統的零組件設計來因應各種設計參數產生組合變化的需求. \n Python 與 Solidworks API 互動範例:  http://mde.tw/cad2020/content/HW1_SW.html \n Python 與 Inventor API 互動範例:  http://mde.tw/cad2020/content/HW1_INV.html \n Python 與 NX12 互動範例:  http://mde.tw/cad2020/content/HW1_NX.html \n', 'tags': '', 'url': 'Task 2.html'}, {'title': 'Wishful Thinking 1', 'text': '2009 年起, 我們一直鼓勵學生發想, 掛在身上的 f 標誌, 假如能夠上下翻轉一百八十度, 就很像 t 了啊! \n 10 年後, 胡思亂想終於成真! \n 大家只要努力玩, 用力想, 砲火夠強的話, 想打哪裡都行! \n 作夢歸作夢, 請問您能夠拍一個五分鐘的影片上傳到 Youtube: \n \n 說明為什麼機械設計工程師, 要使用 git 與 github？如何將設計資料同步到 gitlab 與 bitbucket? \n 說明在 Windows 操作系統上結合 Putty, git 與 github 使用 SSH push 到底機制是如何辦到的? \n 說明機械設計工程師設法忠實留下各種設計歷程資料的用意何在? (是不想背黑鍋嗎?) \n \n \n \n \n', 'tags': '', 'url': 'Wishful Thinking 1.html'}, {'title': 'Stage2', 'text': '任務三: \n 請問個人電腦上的 3D CAD 套件 SolidWorks 是在什麼情況下被創建的? 能不能利用 DesignView 與 Computervision 這兩個關鍵字找到相關資料? \n 為什麼需要了解個人電腦上的 3D CAD 套件是在什麼情境下騰空而出的? 這些開發者 (有哪些人?) 看到了什麼契機? \n 假如 1995 年至 2000 年是一個 3D CAD 轉進個人電腦的初步發展期, 那麼在 2000 年之後的第一個十年, 個人電腦上的 3D CAD 有何進展? \n 截至目前已經進入二十一世紀的第三個十年, 利用 3D CAD 進行產品開發上, 有何較大的轉變? \n 3-1: 請以編年方式, 從 1950 年至 2020 年從 2D CAD 至目前常見的 3D 套件發展, 分別具備哪些功能與特性. \n 3-2: 在 Generative Design 與 Deep Reinforcement Learning 的帶動下, 未來的 3D CAD 可能會有何種樣貌? \n 任務四: \n 從任務三深入探索, SolidWorks 其實是架構在  Geometric Modeling Kernel  (GMK)上的 GUI 程式套件, 而且只能在個人電腦上使用. 請問什麼是 GMK? 請問一般熟知的 3D CAD 套件分別採用哪種 GMK? \n 大家知道為何 Russia 需要自行開發  RGK  嗎? ( Interview ) \n 4-1: 請搜尋 GMK 相關資料, 建立一個表格, 列出一般常見的 3D CAD 分別採用何種 GMK. \n \n 任務五: \n 上面所提的套件開發與 GMK 編寫都離我們太遠了, 在任務五中, 我們來看看能不能自行編譯一套小型的參數式 3D CAD Solvespace, 在接下來的 FMS 模擬, 我們都將優先採用這個自我編譯的 solvespace.exe 來建構零組件, Solvespace 無法輕易建立的複雜外型零組件, 若有協同需求, 則採用 Onshape 建立, 若無協同需求則分別採用 Solidworks 2021, Inventor 2021 與 NX12 建立. \n 5-1: 自行編譯 Windows 10 64 位元環境中的 solvespace.exe. \n 5-2: 請分別利用 Python 程式中的變數值, 控制 Solidworks 2021, Inventor 2021 與 NX12 中所建立的零組件.', 'tags': '', 'url': 'Stage2.html'}, {'title': 'Task3', 'text': 'CAD 發展歷史:  http://mde.tw/cadp2018/downloads/cad_history.pdf \n 教育部的 鑑往知來 解釋, 是這樣說的: \n 觀察過去，就可以推知未來 。參見「 觀往知來 」條。如：「 能夠鑑往知來，就可以避免許多錯誤 。」 \n 而所謂的觀往知來, 則又是這樣解釋的: \n 觀察過去的事實，便能推知未來可能的變化 。語本《列子．說符》：「是以聖人見出以知入，觀往以知來，此其所以先知之理也。」也作「鑑往知來」。 \n 不管有沒有道理, 大家趕快進行下列工作項目: \n 3-1: 請以編年方式, 從 1950 年至 2020 年從 2D CAD 至目前常見的 3D 套件發展, 分別具備哪些功能與特性. \n 3-2: 在 Generative Design 與 Deep Reinforcement Learning 的帶動下, 未來的 3D CAD 可能會有何種樣貌? \n', 'tags': '', 'url': 'Task3.html'}, {'title': 'Task4', 'text': 'Russia 幅員遼闊, 四面環敵所以才需要自行開發  RGK , 台灣彈丸小島,  四海之內皆兄弟 , 所以不會有 GMK 斷貨, 或者參數式 3D 繪圖工具下場與  Windows 7 support ended  一樣的類似問題. \n 4-1: 請搜尋 GMK 相關資料, 建立一個表格, 列出一般常見的 3D CAD 分別採用何種 GMK.', 'tags': '', 'url': 'Task4.html'}, {'title': 'Task5', 'text': '5-1: 自行編譯 Windows 10 64 位元環境中的 solvespace.exe. \n 您可以試著在 Windows 10 環境中利用 Visual Studio C++ 編譯出合用的 solvespace.exe, 以下我們將採用 MSYS2 可攜程式環境 build solvespace.exe. \n 背景資料: \n \n Solvespace 採用 CMake 建立編譯流程指令, 轉換為 Make 編譯指令檔案後, 再透過 C++ 編譯器進行後續核心程式碼與外部程式庫連結的工作. \n Solvespace 採用自訂的 GUI 介面, 因此只需要 CMake 與 C++ 編譯器,  理論上  (意思就是沒有想像中簡單) 就可以在各操作系統平台上進行編譯. \n \n Windows 環境編譯 solvespace.exe: \n \n 啟動隨身程式系統 -  compile_copsim_for_pj2022.7z  (download file size 4 GB, uncompressed file size 14 GB) \n 取下  solvespace 5671941 版本  原始碼 \n Y:\\tmp>git clone --recurse-submodules  https://github.com/solvespace/solvespace.git \n Y:\\tmp>cd solvespace \n y:\\tmp\\solvespace>mkdir build \n y:\\tmp\\solvespace\\build>cmake .. -G "MinGW Makefiles" -DCMAKE_BUILD_TYPE=Release \n y:\\tmp\\solvespace\\build>mingw32-make \n 編譯結束後, solvespace.exe 位於 Y:\\tmp\\solvespace\\build\\bin 目錄中. \n 在隨身系統命令列中執行 Y:\\tmp\\solvespace\\build\\bin\\solvespace 就可以開啟 Solvespace. \n 在 start_ipv6.bat 中加入 start %Disk%:\\tmp\\solvespace\\build\\bin\\solvespace.exe \n \n 5-2: 請分別利用 Python 程式中的變數值, 控制 Solidworks 2021, Inventor 2021 與 NX12 中所建立的零組件. \n 我們在實習任務二的工作項目中, 已經提供以下參考資料: \n Python 與 Solidworks API 互動範例:  http://mde.tw/cad2020/content/HW1_SW.html \n Python 與 Inventor API 互動範例:  http://mde.tw/cad2020/content/HW1_INV.html \n Python 與 NX12 互動範例:  http://mde.tw/cad2020/content/HW1_NX.html \n 請著手進行零件程式化變更設計參數的練習, 並且思考假如能夠在  https://github.com/mdecourse/cd2020pj1  網際系統的架構上, 將各種 3D CAD 與網際 API 程式進行互動, 未來機械設計工程師在產品開發流程中, 會得到什麼好處? \n 接下來又要進行想像了. 仔細觀察一下  https://www.driveworks.co.uk/  運用哪些技術? 可以達到何種效益? \n 假如我們想要利用 Solvespace 建立一個類似的簡單網際系統, 該如何下手?', 'tags': '', 'url': 'Task5.html'}, {'title': 'Stage3', 'text': '任務六: \n 我們想像中的 FMS 場景中, 將有一些 Industrial Robots 負責零件加工或組立, 一些 Mobile Robots 擔任半成品運送, 或者利用輸送帶與倉儲系統進行零組件存放. \n 請閱讀教科書中的 Ch1 Introduction 以及 Ch2 Homogeneous Transformation Matrices 後, 準備利用 Solvespace 與 CoppeliaSim 建立一個 SCARA (Selective Compliance Assembly Robot Arm) robot 場景. \n 6-1: 請開啟 MTB robot, 試著利用各種 CAD 套件, 在 CoppeliaSim 中建立一套 SCARA robot. \n 6-2: 我們該使用哪一個版本的 CoppeliaSim, 每一個版本都一樣嗎? \n 任務七: \n 從 6-2 工作項目中, 假如每一套不同版本的 CoppeliaSim 都存在差異, 從哪裡可以得知這些差異? \n 從 5-1 工作項目中, 我們已經學會自行編譯 solvespace.exe, 現在要將模型零組件輸入 CoppeliaSim 中, 請問我們能夠自行編譯 CoppeliaSim 嗎? 編譯這些工具的目的何在? \n 7-1: 請自行編譯 CoppeliaSim 4.1.0 版. \n 7-2: 請利用自行編譯的 solvespace.exe 與 coppeliasim.exe (以及其他 .dll 以及特定的設定檔案與資料結構) 建立本課程所期望的 FMS 系統場景.', 'tags': '', 'url': 'Stage3.html'}, {'title': 'Task6', 'text': '6-1: 請開啟 MTB robot, 試著利用各種 CAD 套件, 在 CoppeliaSim 中建立一套 SCARA robot. \n 6-2: 我們該使用哪一個版本的 CoppeliaSim, 每一個版本都一樣嗎?', 'tags': '', 'url': 'Task6.html'}, {'title': 'Task7', 'text': '7-1: 請自行編譯 CoppeliaSim 4.1.0 版. \n 假如能夠在編譯過程, 整理其中所牽涉的各種 Geometric Constraints, Symbolic and Numerial Analysis, Computer Programming Techniques, 並且分門別類說明從 Lua, Python remote API 與 BlueZero remote API 之間的應用範例, 應該是一個不錯的碩士題目. \n 在這裡, 我們將試著看看, 該如何利用 MSYS2 編譯出合用的 CoppeliaSim 4.1.0. 至於為何不直接編譯 4.2.0, 具體情況是: \n \n 4.2.0 版原始程式碼中的 static calculations (即利用 GUI 方式設定) 已經全部改為 dynamic 方式設定 (即只能透過 Scripting 方式設定), 與先前希望採 GUI 設定, 動態設定以及自行編寫程式設定 calculations 的流程相左, 而且 Sensor 功能疑似存在 bugs 有待排除. \n 而 4.2.0 rev6 之後的版本, 已經從 Lua 5.1 升級到 5.3, 各項功能正在大幅修改, 目前正在導入  Ruckig  過程當中, 必須等到下一個穩定版 release 之後, 才能導入編譯. \n \n 編譯 CoppeliaSim 4.1.0 教育版： \n \n 啟動隨身程式系統 -  compile_copsim_for_pj2022.7z  (download file size 4 GB, uncompressed file size 14 GB) \n y:\\tmp>mkdir cop410 \n y:\\tmp\\>cd cop410 \n y:\\tmp\\cop410>git clone --recurse-submodules  https://github.com/CoppeliaRobotics/CoppeliaSimLib.git \n y:\\tmp\\cop410>mkdir programming \n y:\\tmp\\cop410>cd programming \n y:\\tmp\\cop410\\programming>git clone --recurse-submodules  https://github.com/CoppeliaRobotics/coppeliaSimClientApplication.git \n y:\\tmp\\cop410\\programming>git clone --recurse-submodules  https://github.com/CoppeliaRobotics/include.git \n y:\\tmp\\cop410\\programming>git clone --recurse-submodules  https://github.com/CoppeliaRobotics/common.git \n y:\\tmp\\cop410\\programming>git clone --recurse-submodules  https://github.com/CoppeliaRobotics/simMath.git \n y:\\tmp\\cop410\\programming>git clone --recurse-submodules  https://github.com/CoppeliaRobotics/libPlugin.git \n y:\\tmp\\cop410\\programming>git clone --recurse-submodules  https://github.com/CoppeliaRobotics/simExtAssimp.git \n y:\\tmp\\cop410\\programming>git clone --recurse-submodules  https://github.com/CoppeliaRobotics/simExtIK.git \n y:\\tmp\\cop410\\programming>git clone --recurse-submodules  https://github.com/CoppeliaRobotics/simExtGeom.git \n y:\\tmp\\cop410\\programming>git clone --recurse-submodules  https://github.com/CoppeliaRobotics/simExtRemoteApi.git \n y:\\tmp\\cop410\\programming>git clone --recurse-submodules  https://github.com/CoppeliaRobotics/remoteApiBindings.git \n y:\\tmp\\cop410\\programming>git clone --recurse-submodules  https://github.com/CoppeliaRobotics/bluezero.git  (因為沒有 coppeliasim-v4.1.0 版, 因此使用最新版) \n y:\\tmp\\cop410\\programming>git clone --recurse-submodules  https://github.com/CoppeliaRobotics/simExtCodeEditor.git \n \n 以上取得的倉儲都是當下最新版本, 因為要編譯 coppeliasim-v4.1.0 版本, 因此以 CoppeliaSimLib 倉儲為例, 必須 checkout coppeliasim-v4.1.0 版本內容: \n \n Y:\\tmp\\cop410>cd CoppeliaSimLib \n Y:\\tmp\\cop410\\CoppeliaSimLib>git checkout coppeliasim-v4.1.0 \n 查驗目前倉儲所在的版本號, 可以使用 Y:\\tmp\\cop410\\CoppeliaSimLib>git show \n \n 其餘 c:\\tmp\\cop410\\programming 目錄下的各倉儲也必須取出對應的 coppeliasim-v4.1.0 版本內容. \n 執行 CoppeliaSimLib 的編譯, 需要 config.pri 中的相關設定: \n # location of boost headers:\n    BOOST_INCLUDEPATH = "Y:/msys64_20210419/mingw64/include/boost"\n\n# location of lua headers:\n    LUA_INCLUDEPATH = "Y:/lua-5.1.5/src" \n\n# lua libraries to link:\n    LUA_LIBS = "y:/lua-5.1.5/src/liblua.a" \n \n# qscintilla location:\n    QSCINTILLA_DIR = "y:/QScintilla_gpl-2.11.2"\n\n# qscintilla headers:\n    QSCINTILLA_INCLUDEPATH = "$${QSCINTILLA_DIR}/include" "$${QSCINTILLA_DIR}/Qt4Qt5"\n \n# qscintilla libraries to link:\n    QSCINTILLA_LIBS = "$${QSCINTILLA_DIR}/libqscintilla2_qt5.dll.a" \n\n# Make sure if a config.pri is found one level above, that it will be used instead of this one:\n    exists(../config.pri) { include(../config.pri) }\n\n \n 由上列 config.pri 設定檔案可以得知必須要先編譯 lua-5.1.5 與 QScintilla_gpl-2.11.2, 分別取得對應的程式庫之後, 再編譯 CoppeliaSimLib. \n 設定完成後, 執行 Y:\\tmp\\cop410\\CoppeliaSimLib>qmake -o Makefile coppeliaSimLib.pro \n 接著執行 Y:\\tmp\\cop410\\CoppeliaSimLib>mingw32-make -f Makefile.Release \n 編譯結束後, 可以在 Release 目錄中建立 coppeliaSim.dll, 這是 CoppeliaSim 的主要動態連結程式庫. \n 接著為了執行自行編譯的 CoppeliaSim 4.1.0, 在 Y:\\tmp\\cop410 中建立 coppeliasim410 目錄, 用來存放編譯完成的檔案, 並且配合 CoppeliaSim 啟動時所需的相關設定內容進行後續的設定. \n Y:\\tmp\\cop410>mkdir coppeliasim410 \n 將前面已經編譯完成的 coppeliaSim.dll 放入 Y:\\tmp\\cop410\\coppeliasim410 目錄中, 接著進入 Y:\\tmp\\cop410\\programming\\coppeliaSimClientApplication 目錄, 以下列命令建立 coppeliaSim.exe 執行檔. \n 而在建立 coppeliaSim.exe 之前, 需要再編輯 coppeliaSim_resource.rc 檔案, 下載 coppeliaSim.ico, 並且開啟 coppeliaSim.pro 中第 42 行 RC_ICONS += coppeliaSim.ico 設定, 以便將 coppeliaSim.ico 圖像編譯後放入 coppeliaSim.exe, coppeliaSim_resource.rc 設定內容如下: \n #include <windows.h>\n\nIDI_ICON1\tICON\tDISCARDABLE\t"Y:/tmp/cop410/programming/coppeliaSimClientApplication/coppeliaSim.ico"\n\nVS_VERSION_INFO VERSIONINFO\n\tFILEVERSION 0,0,0,0\n\tPRODUCTVERSION 0,0,0,0\n\tFILEFLAGSMASK 0x3fL\n#ifdef _DEBUG\n\tFILEFLAGS VS_FF_DEBUG\n#else\n\tFILEFLAGS 0x0L\n#endif\n\tFILEOS VOS__WINDOWS32\n\tFILETYPE VFT_DLL\n\tFILESUBTYPE 0x0L\n\tBEGIN\n\t\tBLOCK "StringFileInfo"\n\t\tBEGIN\n\t\t\tBLOCK "040904b0"\n\t\t\tBEGIN\n\t\t\t\tVALUE "CompanyName", "\\0"\n\t\t\t\tVALUE "FileDescription", "\\0"\n\t\t\t\tVALUE "FileVersion", "0.0.0.0\\0"\n\t\t\t\tVALUE "LegalCopyright", "\\0"\n\t\t\t\tVALUE "OriginalFilename", "coppeliaSim.exe\\0"\n\t\t\t\tVALUE "ProductName", "coppeliaSim\\0"\n\t\t\t\tVALUE "ProductVersion", "0.0.0.0\\0"\n\t\t\tEND\n\t\tEND\n\t\tBLOCK "VarFileInfo"\n\t\tBEGIN\n\t\t\tVALUE "Translation", 0x0409, 1200\n\t\tEND\n\tEND\n/* End of Version info */\n \n Y:\\tmp\\cop410\\programming\\coppeliaSimClientApplication>qmake -o Makefile coppeliaSim.pro \n Y:\\tmp\\cop410\\programming\\coppeliaSimClientApplication>mingw32-make -f Makefile.Release \n 編譯完成後可以在 Y:\\tmp\\cop410\\programming\\coppeliaSimClientApplication\\release 目錄中建立 coppeliaSim.exe 執行檔. \n 將 coppeliaSim.exe 與 coppeliaSim.dll 放入 Y:\\tmp\\cop410\\coppeliasim410 目錄後, 在可攜系統的命令列中, 執行 Y:\\tmp\\cop410\\coppeliasim410\\coppeliaSim 已經可以開啟 coppeliaSim 4.1.0 版, 且首次啟動, coppeliaSim.exe 會自動建立 system 目錄以及其中的 usrset.txt 使用者設定檔案. \n 接下來必須在 Y:\\tmp\\cop410\\coppeliasim410 目錄加上以下倉儲的內容: \n https://github.com/CoppeliaRobotics/scenes.git \n https://github.com/CoppeliaRobotics/models.git \n https://github.com/CoppeliaRobotics/lua.git \n https://github.com/CoppeliaRobotics/helpFiles.git \n 分別取下各倉儲內容後, 也是必須進行 git checkout coppeliasim-v4.1.0, 簽出與 coppeliaSim.exe 及 coppeliasim.dll 系統對應的版本. \n 編譯流程到這個階段, 再從命令列中啟動 coppeliaSim.exe 已經可以在看到圖型介面中的 Model browser 區域已經載入 models 目錄中的 .ttm, 但是場景還無法顯示, 隨後還需要加入更多的延伸模組程式庫. \n 7-2: 請利用自行編譯的 solvespace.exe 與 coppeliasim.exe (以及其他 .dll 以及特定的設定檔案與資料結構) 建立本課程所期望各式 FMS 系統場景.', 'tags': '', 'url': 'Task7.html'}, {'title': '資料管理', 'text': '本倉儲檔案分別同步存放於 Github, Gitlab 與 Bitbucket. \n 與 CoppeliaSim 相關的檔案則分別存放於: \n 2021fall At mde \n cad2021 At mde \n coppeliasim At mde \n cop410 At mde \n cop425 At mde \n vrep At mde \n \n \n \n \n', 'tags': '', 'url': '資料管理.html'}]};